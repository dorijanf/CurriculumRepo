2020-11-22 11:03:05.352 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 11:03:05.985 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 11:03:05.989 +01:00 [INF] Hosting environment: Development
2020-11-22 11:03:05.991 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 11:03:06.030 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 11:03:06.124 +01:00 [INF] Request finished in 97.3677ms 200 text/html;charset=utf-8
2020-11-22 11:03:06.530 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 11:03:06.638 +01:00 [INF] Request finished in 109.3574ms 200 application/json;charset=utf-8
2020-11-22 11:04:23.015 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 157
2020-11-22 11:04:23.020 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:04:23.435 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-22 11:04:23.472 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:04:24.468 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:04:25.409 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:04:25.987 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1510.3863ms.
2020-11-22 11:04:25.991 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__7, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-22 11:04:26.570 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-22 11:04:26.608 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-22 11:04:26.660 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-22 11:04:26.910 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-22 11:04:26.989 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 3512.919ms
2020-11-22 11:04:26.991 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-22 11:04:26.995 +01:00 [INF] Request finished in 3990.3356ms 200 application/json; charset=utf-8
2020-11-22 11:05:09.250 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 160
2020-11-22 11:05:09.251 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:05:09.253 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-22 11:05:09.254 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:05:09.276 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:05:14.127 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:05:14.133 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-22 11:05:14.170 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4878.8388ms.
2020-11-22 11:05:14.171 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-11-22 11:05:23.162 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-22 11:05:29.363 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-22 11:06:28.029 +01:00 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-22 11:07:08.704 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 119450.1355ms
2020-11-22 11:07:08.705 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-22 11:07:08.705 +01:00 [INF] Request finished in 119455.4353ms 200 application/json; charset=utf-8
2020-11-22 11:15:22.648 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 11:15:23.007 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 11:15:23.010 +01:00 [INF] Hosting environment: Development
2020-11-22 11:15:23.011 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 11:15:23.042 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 11:15:23.104 +01:00 [INF] Request finished in 67.5838ms 200 text/html;charset=utf-8
2020-11-22 11:15:23.503 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 11:15:23.614 +01:00 [INF] Request finished in 111.1836ms 200 application/json;charset=utf-8
2020-11-22 11:16:10.033 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 166
2020-11-22 11:16:10.039 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:16:10.145 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-22 11:16:10.187 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:16:10.891 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:16:11.846 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:16:12.180 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1278.2435ms.
2020-11-22 11:16:12.184 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__7, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-22 11:16:12.614 +01:00 [INF] Executed DbCommand (77ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-22 11:16:12.652 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-22 11:16:12.696 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-22 11:16:12.922 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-22 11:16:12.997 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 2805.8382ms
2020-11-22 11:16:12.998 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-22 11:16:13.003 +01:00 [INF] Request finished in 2971.8711ms 200 application/json; charset=utf-8
2020-11-22 11:18:15.812 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 11:18:16.427 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 11:18:16.431 +01:00 [INF] Hosting environment: Development
2020-11-22 11:18:16.432 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 11:18:16.465 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 11:18:16.542 +01:00 [INF] Request finished in 81.9577ms 200 text/html;charset=utf-8
2020-11-22 11:18:16.795 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 11:18:16.928 +01:00 [INF] Request finished in 133.1675ms 200 application/json;charset=utf-8
2020-11-22 11:18:56.424 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 161
2020-11-22 11:18:56.429 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:18:56.518 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-22 11:18:56.558 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:18:57.147 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:18:58.065 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:18:58.785 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-22 11:18:58.828 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-22 11:18:58.869 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-22 11:18:59.099 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-22 11:18:59.151 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1997.2342ms.
2020-11-22 11:18:59.155 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.API.Models.User'.
2020-11-22 11:18:59.216 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 2652.1921ms
2020-11-22 11:18:59.217 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-22 11:18:59.219 +01:00 [INF] Request finished in 2796.6695ms 200 application/json; charset=utf-8
2020-11-22 11:19:25.372 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 11:19:25.380 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:19:25.396 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 11:19:25.401 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:19:25.424 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:19:25.455 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:19:25.468 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 11:19:25.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 11:19:25.642 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 217.7212ms.
2020-11-22 11:19:25.642 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 11:19:25.646 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 244.5625ms
2020-11-22 11:19:25.647 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 11:19:25.654 +01:00 [INF] Request finished in 282.0578ms 200 application/json; charset=utf-8
2020-11-22 11:20:05.033 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/api/Account/159  
2020-11-22 11:20:05.072 +01:00 [INF] Successfully validated the token.
2020-11-22 11:20:05.079 +01:00 [INF] Authorization was successful.
2020-11-22 11:20:05.079 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:20:05.083 +01:00 [INF] Route matched with {action = "GetUser", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:20:05.104 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:20:05.119 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:20:05.127 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 11:20:05.132 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.9541ms.
2020-11-22 11:20:05.133 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.UserDTO'.
2020-11-22 11:20:05.137 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) in 53.6552ms
2020-11-22 11:20:05.137 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:20:05.143 +01:00 [INF] Request finished in 110.9685ms 200 application/json; charset=utf-8
2020-11-22 11:34:41.036 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 11:34:41.418 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 11:34:41.420 +01:00 [INF] Hosting environment: Development
2020-11-22 11:34:41.422 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 11:34:41.449 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 11:34:41.510 +01:00 [INF] Request finished in 65.6642ms 200 text/html;charset=utf-8
2020-11-22 11:34:41.707 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 11:34:41.820 +01:00 [INF] Request finished in 113.0794ms 200 application/json;charset=utf-8
2020-11-22 11:34:57.838 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 11:34:57.846 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:34:57.955 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 11:34:57.987 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:34:58.536 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:34:59.415 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:35:00.028 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 11:35:00.158 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 11:35:00.234 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1690.0444ms.
2020-11-22 11:35:00.238 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 11:35:00.261 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2267.781ms
2020-11-22 11:35:00.261 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 11:35:00.264 +01:00 [INF] Request finished in 2429.5557ms 200 application/json; charset=utf-8
2020-11-22 11:35:18.644 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/api/Account/160  
2020-11-22 11:35:18.681 +01:00 [INF] Successfully validated the token.
2020-11-22 11:35:18.688 +01:00 [INF] Authorization was successful.
2020-11-22 11:35:18.688 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:35:18.691 +01:00 [INF] Route matched with {action = "GetUser", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:35:18.713 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:35:18.742 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:35:18.750 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__id_0
2020-11-22 11:35:18.765 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.7104ms.
2020-11-22 11:35:18.766 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.UserDTO'.
2020-11-22 11:35:18.773 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) in 82.1375ms
2020-11-22 11:35:18.773 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:35:18.774 +01:00 [INF] Request finished in 130.3016ms 200 application/json; charset=utf-8
2020-11-22 11:35:46.357 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/api/Account/169  
2020-11-22 11:35:46.373 +01:00 [INF] Successfully validated the token.
2020-11-22 11:35:46.380 +01:00 [INF] Authorization was successful.
2020-11-22 11:35:46.382 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:35:46.394 +01:00 [INF] Route matched with {action = "GetUser", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:35:46.417 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:35:46.425 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:35:46.438 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__id_0
2020-11-22 11:35:46.446 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 28.0578ms.
2020-11-22 11:35:46.446 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.UserDTO'.
2020-11-22 11:35:46.447 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) in 52.2982ms
2020-11-22 11:35:46.447 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:35:46.447 +01:00 [INF] Request finished in 90.0149ms 200 application/json; charset=utf-8
2020-11-22 11:36:16.192 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/api/Account/170  
2020-11-22 11:36:16.194 +01:00 [INF] Successfully validated the token.
2020-11-22 11:36:16.195 +01:00 [INF] Authorization was successful.
2020-11-22 11:36:16.196 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:36:16.196 +01:00 [INF] Route matched with {action = "GetUser", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:36:16.215 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:36:16.218 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:36:16.238 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__id_0
2020-11-22 11:36:16.239 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 23.5907ms.
2020-11-22 11:36:16.239 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.UserDTO'.
2020-11-22 11:36:16.240 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) in 43.5096ms
2020-11-22 11:36:16.240 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:36:16.240 +01:00 [INF] Request finished in 56.3725ms 200 application/json; charset=utf-8
2020-11-22 11:36:27.348 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/api/Account/168  
2020-11-22 11:36:27.350 +01:00 [INF] Successfully validated the token.
2020-11-22 11:36:27.366 +01:00 [INF] Authorization was successful.
2020-11-22 11:36:27.366 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:36:27.370 +01:00 [INF] Route matched with {action = "GetUser", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:36:27.395 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:36:27.398 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:36:27.402 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__id_0
2020-11-22 11:36:27.406 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.8559ms.
2020-11-22 11:36:27.407 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.UserDTO'.
2020-11-22 11:36:27.408 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) in 36.8281ms
2020-11-22 11:36:27.408 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:36:27.408 +01:00 [INF] Request finished in 60.7414ms 200 application/json; charset=utf-8
2020-11-22 11:36:54.228 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/167  
2020-11-22 11:36:54.228 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:36:54.229 +01:00 [INF] Successfully validated the token.
2020-11-22 11:36:54.229 +01:00 [INF] Authorization was successful.
2020-11-22 11:36:54.229 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 11:36:54.231 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:36:54.251 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:36:59.640 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:36:59.652 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__id_0
2020-11-22 11:36:59.652 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5399.9431ms.
2020-11-22 11:36:59.652 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 11:36:59.654 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 5422.2525ms
2020-11-22 11:36:59.654 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 11:36:59.654 +01:00 [INF] Request finished in 5431.7167ms 200 application/json; charset=utf-8
2020-11-22 11:38:02.011 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/167  
2020-11-22 11:38:02.013 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:38:02.015 +01:00 [INF] Successfully validated the token.
2020-11-22 11:38:02.016 +01:00 [INF] Authorization was successful.
2020-11-22 11:38:02.016 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 11:38:02.017 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:38:02.043 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:39:07.204 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 11:39:07.542 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 11:39:07.544 +01:00 [INF] Hosting environment: Development
2020-11-22 11:39:07.546 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 11:39:07.587 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 11:39:07.656 +01:00 [INF] Request finished in 72.836ms 200 text/html;charset=utf-8
2020-11-22 11:39:07.837 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 11:39:07.965 +01:00 [INF] Request finished in 128.311ms 200 application/json;charset=utf-8
2020-11-22 11:39:49.347 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 11:39:49.739 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 11:39:49.747 +01:00 [INF] Hosting environment: Development
2020-11-22 11:39:49.767 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 11:39:49.818 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 11:39:49.911 +01:00 [INF] Request finished in 99.4685ms 200 text/html;charset=utf-8
2020-11-22 11:39:50.149 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 11:39:50.308 +01:00 [INF] Request finished in 159.1299ms 200 application/json;charset=utf-8
2020-11-22 11:40:06.091 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 11:40:06.097 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:40:06.192 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 11:40:06.225 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:40:06.806 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:40:07.600 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:40:08.178 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 11:40:08.325 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 11:40:08.411 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1598.0371ms.
2020-11-22 11:40:08.415 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 11:40:08.435 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2205.2039ms
2020-11-22 11:40:08.436 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 11:40:08.439 +01:00 [INF] Request finished in 2350.7008ms 200 application/json; charset=utf-8
2020-11-22 11:40:59.051 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/api/Account/159  
2020-11-22 11:40:59.123 +01:00 [INF] Successfully validated the token.
2020-11-22 11:40:59.133 +01:00 [INF] Authorization was successful.
2020-11-22 11:40:59.134 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:40:59.136 +01:00 [INF] Route matched with {action = "GetUser", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:40:59.155 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:40:59.185 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:40:59.194 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 11:40:59.208 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 52.0911ms.
2020-11-22 11:40:59.208 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.UserDTO'.
2020-11-22 11:40:59.215 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) in 78.141ms
2020-11-22 11:40:59.215 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:40:59.215 +01:00 [INF] Request finished in 164.6739ms 200 application/json; charset=utf-8
2020-11-22 11:41:08.210 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/api/Account/166  
2020-11-22 11:41:08.216 +01:00 [INF] Successfully validated the token.
2020-11-22 11:41:08.217 +01:00 [INF] Authorization was successful.
2020-11-22 11:41:08.218 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:41:08.221 +01:00 [INF] Route matched with {action = "GetUser", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetUser(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:41:08.255 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:41:08.267 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:41:08.275 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 11:41:08.283 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27.6366ms.
2020-11-22 11:41:08.284 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.UserDTO'.
2020-11-22 11:41:08.284 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API) in 62.8676ms
2020-11-22 11:41:08.285 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.GetUser (CurriculumRepository.API)'
2020-11-22 11:41:08.285 +01:00 [INF] Request finished in 75.3025ms 200 application/json; charset=utf-8
2020-11-22 11:45:03.841 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 11:45:03.841 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:45:03.842 +01:00 [INF] Successfully validated the token.
2020-11-22 11:45:03.843 +01:00 [INF] Authorization was successful.
2020-11-22 11:45:03.844 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 11:45:03.847 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:45:03.863 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:45:12.342 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:45:12.353 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 11:45:12.377 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8513.7809ms.
2020-11-22 11:45:12.391 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 11:45:18.688 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 14840.5961ms
2020-11-22 11:45:18.688 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 11:45:18.688 +01:00 [INF] Request finished in 14847.6019ms 200 application/json; charset=utf-8
2020-11-22 11:46:20.262 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 11:46:20.604 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 11:46:20.607 +01:00 [INF] Hosting environment: Development
2020-11-22 11:46:20.609 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 11:46:20.635 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 11:46:20.699 +01:00 [INF] Request finished in 68.8584ms 200 text/html;charset=utf-8
2020-11-22 11:46:20.872 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 11:46:20.986 +01:00 [INF] Request finished in 114.1707ms 200 application/json;charset=utf-8
2020-11-22 11:46:38.930 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 11:46:38.937 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:46:39.057 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 11:46:39.091 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:46:39.681 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:46:40.601 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:46:41.228 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 11:46:41.367 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 11:46:41.446 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1758.6179ms.
2020-11-22 11:46:41.451 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 11:46:41.473 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2376.3836ms
2020-11-22 11:46:41.474 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 11:46:41.480 +01:00 [INF] Request finished in 2554.3784ms 200 application/json; charset=utf-8
2020-11-22 11:47:32.796 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 11:47:32.797 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 11:47:32.878 +01:00 [INF] Successfully validated the token.
2020-11-22 11:47:32.886 +01:00 [INF] Authorization was successful.
2020-11-22 11:47:32.886 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 11:47:32.896 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 11:47:32.916 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 11:47:42.282 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 11:47:42.291 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 11:47:42.311 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9394.175ms.
2020-11-22 11:47:42.311 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 11:47:49.290 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 9433.5154ms
2020-11-22 11:47:58.086 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 11:47:58.095 +01:00 [INF] Request finished in 25298.9413ms 200 application/json; charset=utf-8
2020-11-22 14:45:12.705 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 14:45:13.050 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 14:45:13.053 +01:00 [INF] Hosting environment: Development
2020-11-22 14:45:13.055 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 14:45:13.081 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 14:45:13.154 +01:00 [INF] Request finished in 76.1791ms 200 text/html;charset=utf-8
2020-11-22 14:45:13.377 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 14:45:13.480 +01:00 [INF] Request finished in 103.6532ms 200 application/json;charset=utf-8
2020-11-22 14:46:01.532 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 14:46:01.537 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 14:46:01.685 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 14:46:01.730 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 14:46:02.447 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 14:46:02.867 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 14:46:02.867 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 14:46:02.868 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 14:46:02.869 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 14:46:02.886 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 14:46:03.369 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 14:46:03.369 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 14:46:04.130 +01:00 [ERR] Failed executing DbCommand (62ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeletable], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 14:46:04.130 +01:00 [ERR] Failed executing DbCommand (62ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeletable], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 14:46:04.228 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeletable'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2f854554-f384-4bfe-a44f-3c79736a7cd9
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeletable'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:2f854554-f384-4bfe-a44f-3c79736a7cd9
Error Number:207,State:1,Class:16
2020-11-22 14:46:04.228 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeletable'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1332aff1-d499-4e7d-9faa-4e04fe206640
Error Number:207,State:1,Class:16
Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'IsDeletable'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:1332aff1-d499-4e7d-9faa-4e04fe206640
Error Number:207,State:1,Class:16
2020-11-22 14:48:20.089 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 14:48:20.453 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 14:48:20.464 +01:00 [INF] Hosting environment: Development
2020-11-22 14:48:20.467 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 14:48:20.512 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 14:48:20.572 +01:00 [INF] Request finished in 63.9152ms 200 text/html;charset=utf-8
2020-11-22 14:48:20.783 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 14:48:20.895 +01:00 [INF] Request finished in 111.7983ms 200 application/json;charset=utf-8
2020-11-22 14:48:31.565 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 14:48:31.571 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 14:48:31.662 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 14:48:31.711 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 14:48:32.377 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 14:48:33.272 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 14:48:33.907 +01:00 [INF] Executed DbCommand (69ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 14:48:34.081 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 14:48:34.180 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1793.7331ms.
2020-11-22 14:48:34.185 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 14:48:34.207 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2490.2483ms
2020-11-22 14:48:34.207 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 14:48:34.210 +01:00 [INF] Request finished in 2647.6573ms 200 application/json; charset=utf-8
2020-11-22 14:49:21.814 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 14:49:21.815 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 14:49:21.869 +01:00 [INF] Successfully validated the token.
2020-11-22 14:49:21.875 +01:00 [INF] Authorization was successful.
2020-11-22 14:49:21.876 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 14:49:21.879 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 14:49:21.900 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 14:49:28.978 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 14:49:32.226 +01:00 [INF] Executed DbCommand (3,242ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 14:49:32.226 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10326.67ms.
2020-11-22 14:49:32.227 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 14:49:32.232 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 10353.0296ms
2020-11-22 14:49:32.232 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 14:49:32.233 +01:00 [INF] Request finished in 10418.4811ms 200 application/json; charset=utf-8
2020-11-22 14:50:13.994 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 14:50:13.996 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 14:50:14.000 +01:00 [INF] Successfully validated the token.
2020-11-22 14:50:14.009 +01:00 [INF] Authorization was successful.
2020-11-22 14:50:14.009 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 14:50:14.009 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 14:50:14.029 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 14:50:31.807 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 14:50:31.848 +01:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 14:50:31.873 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 17844.044ms.
2020-11-22 14:50:31.891 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 14:50:31.892 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 17882.6736ms
2020-11-22 14:50:31.894 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 14:50:44.422 +01:00 [INF] Request finished in 17900.3129ms 200 application/json; charset=utf-8
2020-11-22 14:51:27.432 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 14:51:27.784 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 14:51:27.787 +01:00 [INF] Hosting environment: Development
2020-11-22 14:51:27.788 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 14:51:27.815 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 14:51:27.882 +01:00 [INF] Request finished in 71.1473ms 200 text/html;charset=utf-8
2020-11-22 14:51:28.103 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 14:51:28.210 +01:00 [INF] Request finished in 107.2871ms 200 application/json;charset=utf-8
2020-11-22 14:51:49.082 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 14:51:49.087 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 14:51:49.185 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 14:51:49.221 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 14:51:49.837 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 14:51:50.772 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 14:51:51.423 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 14:51:51.595 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 14:51:51.667 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1823.7711ms.
2020-11-22 14:51:51.672 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 14:51:51.692 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2465.8157ms
2020-11-22 14:51:51.692 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 14:51:51.695 +01:00 [INF] Request finished in 2614.6315ms 200 application/json; charset=utf-8
2020-11-22 14:52:07.543 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 14:52:07.547 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 14:52:07.586 +01:00 [INF] Successfully validated the token.
2020-11-22 14:52:07.593 +01:00 [INF] Authorization was successful.
2020-11-22 14:52:07.593 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 14:52:07.596 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 14:52:07.617 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 14:53:52.036 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 14:53:52.053 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 104434.8842ms.
2020-11-22 14:53:52.053 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 14:53:52.053 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 14:53:52.055 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 104458.355ms
2020-11-22 14:53:52.055 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 14:53:52.055 +01:00 [INF] Request finished in 104512.2905ms 200 application/json; charset=utf-8
2020-11-22 14:59:31.781 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 14:59:32.124 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 14:59:32.127 +01:00 [INF] Hosting environment: Development
2020-11-22 14:59:32.130 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 14:59:32.153 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 14:59:32.223 +01:00 [INF] Request finished in 73.1472ms 200 text/html;charset=utf-8
2020-11-22 14:59:32.425 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 14:59:32.510 +01:00 [INF] Request finished in 85.6681ms 200 application/json;charset=utf-8
2020-11-22 14:59:51.300 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 14:59:51.306 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 14:59:51.411 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 14:59:51.447 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 14:59:52.064 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 14:59:52.996 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 14:59:53.636 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 14:59:53.773 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 14:59:53.853 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1781.3952ms.
2020-11-22 14:59:53.858 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 14:59:53.881 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2428.1007ms
2020-11-22 14:59:53.881 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 14:59:53.884 +01:00 [INF] Request finished in 2587.0774ms 200 application/json; charset=utf-8
2020-11-22 15:00:14.482 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 15:00:14.483 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:00:14.516 +01:00 [INF] Successfully validated the token.
2020-11-22 15:00:14.522 +01:00 [INF] Authorization was successful.
2020-11-22 15:00:14.523 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:00:14.533 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:00:14.554 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:00:14.592 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:00:14.600 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 15:00:14.600 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 46.4982ms.
2020-11-22 15:00:14.601 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 15:00:14.602 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 68.6255ms
2020-11-22 15:00:14.602 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:00:14.603 +01:00 [INF] Request finished in 120.8682ms 200 application/json; charset=utf-8
2020-11-22 15:06:10.088 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 15:06:10.608 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 15:06:10.613 +01:00 [INF] Hosting environment: Development
2020-11-22 15:06:10.618 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 15:06:10.649 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 15:06:10.786 +01:00 [INF] Request finished in 132.281ms 200 text/html;charset=utf-8
2020-11-22 15:06:11.052 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 15:06:11.259 +01:00 [INF] Request finished in 206.8148ms 200 application/json;charset=utf-8
2020-11-22 15:13:55.417 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 15:13:55.865 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 15:13:55.868 +01:00 [INF] Hosting environment: Development
2020-11-22 15:13:55.870 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 15:13:55.897 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 15:13:55.974 +01:00 [INF] Request finished in 80.6883ms 200 text/html;charset=utf-8
2020-11-22 15:13:56.196 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 15:13:56.318 +01:00 [INF] Request finished in 122.0939ms 200 application/json;charset=utf-8
2020-11-22 15:31:22.975 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:31:31.402 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:32:52.904 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:32:53.610 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-11-22 15:32:53.639 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-11-22 15:32:53.642 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-11-22 15:32:53.643 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-11-22 15:32:53.661 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-11-22 15:32:53.679 +01:00 [INF] Applying migration '20201122143131_IsDeleted'.
2020-11-22 15:32:53.825 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Keyword] (
    [IDKeyword] int NOT NULL IDENTITY,
    [KeywordName] nvarchar(100) NOT NULL,
    CONSTRAINT [PK_KljucniPojam] PRIMARY KEY ([IDKeyword])
);
2020-11-22 15:33:08.979 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:33:09.365 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2020-11-22 15:33:09.397 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2020-11-22 15:33:09.411 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2020-11-22 15:33:33.215 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 15:33:33.644 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 15:33:33.647 +01:00 [INF] Hosting environment: Development
2020-11-22 15:33:33.649 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 15:33:33.678 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 15:33:33.770 +01:00 [INF] Request finished in 95.815ms 200 text/html;charset=utf-8
2020-11-22 15:33:34.005 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 15:33:34.116 +01:00 [INF] Request finished in 111.5115ms 200 application/json;charset=utf-8
2020-11-22 15:37:24.733 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 15:37:25.073 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 15:37:25.075 +01:00 [INF] Hosting environment: Development
2020-11-22 15:37:25.077 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 15:37:25.104 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 15:37:25.172 +01:00 [INF] Request finished in 71.462ms 200 text/html;charset=utf-8
2020-11-22 15:37:25.352 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 15:37:25.439 +01:00 [INF] Request finished in 86.9253ms 200 application/json;charset=utf-8
2020-11-22 15:37:37.657 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 15:37:37.666 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:37:38.167 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:37:38.208 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:37:38.907 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:37:39.840 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:37:40.599 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 15:37:40.764 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 15:37:40.913 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1998.0818ms.
2020-11-22 15:37:40.917 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 15:37:40.937 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2724.6188ms
2020-11-22 15:37:40.938 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:37:40.942 +01:00 [INF] Request finished in 3286.5074ms 200 application/json; charset=utf-8
2020-11-22 15:37:55.192 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 15:37:55.193 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:37:55.235 +01:00 [INF] Successfully validated the token.
2020-11-22 15:37:55.243 +01:00 [INF] Authorization was successful.
2020-11-22 15:37:55.243 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:37:55.246 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:37:55.265 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:37:55.293 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:37:55.303 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 37.9728ms.
2020-11-22 15:37:55.304 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 15:37:55.304 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 15:37:55.305 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 59.4388ms
2020-11-22 15:37:55.305 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:37:55.306 +01:00 [INF] Request finished in 114.0614ms 200 application/json; charset=utf-8
2020-11-22 15:41:30.628 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 15:41:30.628 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:41:30.630 +01:00 [INF] Successfully validated the token.
2020-11-22 15:41:30.631 +01:00 [INF] Authorization was successful.
2020-11-22 15:41:30.631 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:41:30.634 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:41:30.659 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:41:39.038 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:41:39.394 +01:00 [INF] Executed DbCommand (348ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 15:41:39.417 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8758.0648ms.
2020-11-22 15:41:39.441 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 15:41:39.570 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 8929.4321ms
2020-11-22 15:41:39.570 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:41:39.571 +01:00 [INF] Request finished in 8943.0842ms 200 application/json; charset=utf-8
2020-11-22 15:42:03.150 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 15:42:03.150 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:42:03.151 +01:00 [INF] Successfully validated the token.
2020-11-22 15:42:03.152 +01:00 [INF] Authorization was successful.
2020-11-22 15:42:03.153 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:42:03.153 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:42:03.179 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:42:07.514 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:42:07.740 +01:00 [INF] Executed DbCommand (203ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 15:42:07.740 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4560.5839ms.
2020-11-22 15:42:07.740 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 15:42:07.742 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 4588.7646ms
2020-11-22 15:42:07.762 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:42:07.762 +01:00 [INF] Request finished in 4612.4081ms 200 application/json; charset=utf-8
2020-11-22 15:42:44.986 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 15:42:45.328 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 15:42:45.330 +01:00 [INF] Hosting environment: Development
2020-11-22 15:42:45.332 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 15:42:45.360 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 15:42:45.424 +01:00 [INF] Request finished in 66.256ms 200 text/html;charset=utf-8
2020-11-22 15:42:45.609 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 15:42:45.726 +01:00 [INF] Request finished in 117.2083ms 200 application/json;charset=utf-8
2020-11-22 15:42:59.453 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 15:42:59.459 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:42:59.555 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:42:59.588 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:43:00.248 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:43:01.074 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:43:01.746 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 15:43:01.880 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 15:43:01.962 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1706.4187ms.
2020-11-22 15:43:01.968 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 15:43:01.992 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2399.2813ms
2020-11-22 15:43:01.993 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:43:01.996 +01:00 [INF] Request finished in 2545.1809ms 200 application/json; charset=utf-8
2020-11-22 15:43:18.007 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 15:43:18.008 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:43:18.047 +01:00 [INF] Successfully validated the token.
2020-11-22 15:43:18.054 +01:00 [INF] Authorization was successful.
2020-11-22 15:43:18.054 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:43:18.057 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:43:18.081 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:43:23.662 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:43:24.109 +01:00 [INF] Executed DbCommand (417ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 15:43:24.110 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6028.3575ms.
2020-11-22 15:43:24.147 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 15:43:25.597 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 7539.3151ms
2020-11-22 15:43:25.597 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:43:25.599 +01:00 [INF] Request finished in 7592.6095ms 200 application/json; charset=utf-8
2020-11-22 15:44:09.749 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 15:44:10.132 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 15:44:10.134 +01:00 [INF] Hosting environment: Development
2020-11-22 15:44:10.136 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 15:44:10.171 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 15:44:10.257 +01:00 [INF] Request finished in 90.1124ms 200 text/html;charset=utf-8
2020-11-22 15:44:10.471 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 15:44:10.569 +01:00 [INF] Request finished in 98.7237ms 200 application/json;charset=utf-8
2020-11-22 15:44:16.526 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 15:44:16.534 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:44:16.632 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:44:16.683 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:44:17.384 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:44:18.466 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:44:19.137 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 15:44:19.292 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 15:44:19.368 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1976.1369ms.
2020-11-22 15:44:19.372 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 15:44:19.392 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2704.1903ms
2020-11-22 15:44:19.392 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:44:19.398 +01:00 [INF] Request finished in 2873.7423ms 200 application/json; charset=utf-8
2020-11-22 15:44:32.097 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 15:44:32.101 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:44:32.141 +01:00 [INF] Successfully validated the token.
2020-11-22 15:44:32.148 +01:00 [INF] Authorization was successful.
2020-11-22 15:44:32.149 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:44:32.153 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:44:32.175 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:44:37.727 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:44:38.916 +01:00 [INF] Executed DbCommand (1,180ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 15:44:38.916 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6741.084ms.
2020-11-22 15:44:38.917 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 15:44:38.967 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 6813.4094ms
2020-11-22 15:44:39.693 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:44:39.694 +01:00 [INF] Request finished in 7597.2639ms 200 application/json; charset=utf-8
2020-11-22 15:46:49.062 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 15:46:49.399 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 15:46:49.401 +01:00 [INF] Hosting environment: Development
2020-11-22 15:46:49.404 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 15:46:49.431 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 15:46:49.492 +01:00 [INF] Request finished in 64.637ms 200 text/html;charset=utf-8
2020-11-22 15:46:49.690 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 15:46:49.797 +01:00 [INF] Request finished in 107.5743ms 200 application/json;charset=utf-8
2020-11-22 15:47:03.914 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 15:47:03.921 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:47:04.019 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:47:04.053 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:47:04.696 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:47:05.652 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:47:06.257 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 15:47:06.399 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 15:47:06.472 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1769.0973ms.
2020-11-22 15:47:06.479 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 15:47:06.499 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2441.3873ms
2020-11-22 15:47:06.499 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:47:06.502 +01:00 [INF] Request finished in 2589.7951ms 200 application/json; charset=utf-8
2020-11-22 15:47:25.118 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/171  
2020-11-22 15:47:25.119 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:47:25.158 +01:00 [INF] Successfully validated the token.
2020-11-22 15:47:25.166 +01:00 [INF] Authorization was successful.
2020-11-22 15:47:25.166 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:47:25.170 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:47:25.191 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:47:29.369 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:47:29.382 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-22 15:47:29.403 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4212.0173ms.
2020-11-22 15:47:29.444 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-22 15:48:33.292 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 68121.9488ms
2020-11-22 15:48:33.293 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-22 15:48:33.910 +01:00 [INF] Request finished in 68792.1292ms 200 application/json; charset=utf-8
2020-11-22 15:51:43.693 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 15:51:44.040 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 15:51:44.042 +01:00 [INF] Hosting environment: Development
2020-11-22 15:51:44.044 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 15:51:44.071 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 15:51:44.151 +01:00 [INF] Request finished in 82.4861ms 200 text/html;charset=utf-8
2020-11-22 15:51:44.366 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 15:51:44.463 +01:00 [INF] Request finished in 97.1245ms 200 application/json;charset=utf-8
2020-11-22 15:51:59.205 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 15:51:59.211 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:51:59.334 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:51:59.369 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 15:52:00.024 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 15:52:00.975 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 15:52:01.612 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 15:52:01.746 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 15:52:01.828 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1796.9799ms.
2020-11-22 15:52:01.833 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 15:52:01.857 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2483.3991ms
2020-11-22 15:52:01.857 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 15:52:01.861 +01:00 [INF] Request finished in 2659.4092ms 200 application/json; charset=utf-8
2020-11-22 15:52:56.379 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account/171 application/json-patch+json 31
2020-11-22 15:52:56.379 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 15:52:56.457 +01:00 [INF] Successfully validated the token.
2020-11-22 15:52:56.467 +01:00 [INF] Authorization was successful.
2020-11-22 15:52:56.467 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 15:52:56.470 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(Int32, CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:02:40.732 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:02:41.087 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:02:41.090 +01:00 [INF] Hosting environment: Development
2020-11-22 16:02:41.092 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:02:41.118 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:02:41.187 +01:00 [INF] Request finished in 72.6579ms 200 text/html;charset=utf-8
2020-11-22 16:02:41.430 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:02:41.533 +01:00 [INF] Request finished in 102.8089ms 200 application/json;charset=utf-8
2020-11-22 16:04:31.787 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:04:32.142 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:04:32.145 +01:00 [INF] Hosting environment: Development
2020-11-22 16:04:32.147 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:04:32.165 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:04:32.230 +01:00 [INF] Request finished in 68.2583ms 200 text/html;charset=utf-8
2020-11-22 16:04:32.433 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:04:32.540 +01:00 [INF] Request finished in 108.3591ms 200 application/json;charset=utf-8
2020-11-22 16:05:00.702 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:05:00.709 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:05:00.806 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:05:00.846 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:05:02.169 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:05:02.801 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:05:02.968 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:05:03.083 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:05:03.108 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2256.4682ms
2020-11-22 16:05:03.108 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:05:03.111 +01:00 [INF] Request finished in 2409.8238ms 200 application/json; charset=utf-8
2020-11-22 16:05:44.994 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:05:45.367 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:05:45.370 +01:00 [INF] Hosting environment: Development
2020-11-22 16:05:45.372 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:05:45.400 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:05:45.463 +01:00 [INF] Request finished in 65.9402ms 200 text/html;charset=utf-8
2020-11-22 16:05:45.683 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:05:45.848 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwagger(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 16:05:45.865 +01:00 [INF] Request finished in 182.2053ms 500 text/plain
2020-11-22 16:06:14.004 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:06:14.431 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:06:14.442 +01:00 [INF] Hosting environment: Development
2020-11-22 16:06:14.446 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:06:14.478 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:06:14.545 +01:00 [INF] Request finished in 69.2632ms 200 text/html;charset=utf-8
2020-11-22 16:06:14.721 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:06:14.838 +01:00 [INF] Request finished in 117.2046ms 200 application/json;charset=utf-8
2020-11-22 16:06:52.306 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:06:52.310 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:06:52.406 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:06:52.447 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:06:53.051 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:06:53.957 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:06:54.649 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:06:54.789 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:06:54.874 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1815.7683ms.
2020-11-22 16:06:54.879 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:06:54.899 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2447.6101ms
2020-11-22 16:06:54.899 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:06:54.902 +01:00 [INF] Request finished in 2598.0565ms 200 application/json; charset=utf-8
2020-11-22 16:07:31.920 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:07:32.317 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:07:32.319 +01:00 [INF] Hosting environment: Development
2020-11-22 16:07:32.322 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:07:32.349 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:07:32.417 +01:00 [INF] Request finished in 72.2485ms 200 text/html;charset=utf-8
2020-11-22 16:07:32.599 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:07:32.712 +01:00 [INF] Request finished in 114.1466ms 200 application/json;charset=utf-8
2020-11-22 16:07:44.703 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:07:44.709 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:07:44.803 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:07:44.842 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:07:45.516 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:07:46.429 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:07:47.060 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:07:47.199 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:07:47.274 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1751.2188ms.
2020-11-22 16:07:47.280 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:07:47.302 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2454.7161ms
2020-11-22 16:07:47.302 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:07:47.305 +01:00 [INF] Request finished in 2603.211ms 200 application/json; charset=utf-8
2020-11-22 16:08:32.091 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 55
2020-11-22 16:08:32.092 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:08:32.129 +01:00 [INF] Successfully validated the token.
2020-11-22 16:08:32.136 +01:00 [INF] Authorization was successful.
2020-11-22 16:08:32.136 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:08:32.156 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:11:23.451 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:11:23.792 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:11:23.795 +01:00 [INF] Hosting environment: Development
2020-11-22 16:11:23.796 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:11:23.823 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:11:23.897 +01:00 [INF] Request finished in 77.0375ms 200 text/html;charset=utf-8
2020-11-22 16:11:24.118 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:11:24.232 +01:00 [INF] Request finished in 113.9947ms 200 application/json;charset=utf-8
2020-11-22 16:11:51.677 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:11:51.682 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:11:51.794 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:11:51.831 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:11:52.583 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:11:53.526 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:11:54.239 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:11:54.394 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:11:54.481 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1890.0237ms.
2020-11-22 16:11:54.485 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:11:54.508 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2671.1997ms
2020-11-22 16:11:54.509 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:11:54.512 +01:00 [INF] Request finished in 2836.6841ms 200 application/json; charset=utf-8
2020-11-22 16:12:16.871 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 16:12:16.872 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:12:16.936 +01:00 [INF] Successfully validated the token.
2020-11-22 16:12:16.946 +01:00 [INF] Authorization was successful.
2020-11-22 16:12:16.947 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:12:16.949 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:12:23.037 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 6087.5007ms
2020-11-22 16:12:23.038 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:12:23.297 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Any[TSource](IEnumerable`1 source, Func`2 predicate)
   at CurriculumRepository.CORE.Data.Validators.ValidationHelpers.ContainLowercase(String password) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\Validators\ValidationHelpers.cs:line 10
   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass21_0`2.<Must>b__0(T x, TProperty val) in C:\Projects\FluentValidation\src\FluentValidation\DefaultValidatorExtensions.cs:line 343
   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass22_0`2.<Must>b__0(T x, TProperty val, PropertyValidatorContext propertyValidatorContext) in C:\Projects\FluentValidation\src\FluentValidation\DefaultValidatorExtensions.cs:line 359
   at FluentValidation.DefaultValidatorExtensions.<>c__DisplayClass23_0`2.<Must>b__0(Object instance, Object property, PropertyValidatorContext propertyValidatorContext) in C:\Projects\FluentValidation\src\FluentValidation\DefaultValidatorExtensions.cs:line 375
   at FluentValidation.Validators.PredicateValidator.IsValid(PropertyValidatorContext context) in C:\Projects\FluentValidation\src\FluentValidation\Validators\PredicateValidator.cs:line 34
   at FluentValidation.Validators.PropertyValidator.Validate(PropertyValidatorContext context) in C:\Projects\FluentValidation\src\FluentValidation\Validators\PropertyValidator.cs:line 76
   at FluentValidation.Internal.PropertyRule.InvokePropertyValidator(IValidationContext context, IPropertyValidator validator, String propertyName) in C:\Projects\FluentValidation\src\FluentValidation\Internal\PropertyRule.cs:line 480
   at FluentValidation.Internal.PropertyRule.Validate(IValidationContext context)+MoveNext() in C:\Projects\FluentValidation\src\FluentValidation\Internal\PropertyRule.cs:line 312
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at FluentValidation.AbstractValidator`1.Validate(ValidationContext`1 context) in C:\Projects\FluentValidation\src\FluentValidation\AbstractValidator.cs:line 95
   at FluentValidation.AbstractValidator`1.FluentValidation.IValidator.Validate(IValidationContext context) in C:\Projects\FluentValidation\src\FluentValidation\AbstractValidator.cs:line 48
   at FluentValidation.AspNetCore.FluentValidationModelValidator.Validate(ModelValidationContext mvContext) in C:\Projects\FluentValidation\src\FluentValidation.AspNetCore\FluentValidationModelValidatorProvider.cs:line 106
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.ValidateNode()
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.VisitComplexType(IValidationStrategy defaultStrategy)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Visit(ModelMetadata metadata, String key, Object model)
   at Microsoft.AspNetCore.Mvc.ModelBinding.Validation.ValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>n__0(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel)
   at FluentValidation.AspNetCore.FluentValidationVisitor.<>c__DisplayClass1_0.<Validate>g__BaseValidate|0() in C:\Projects\FluentValidation\src\FluentValidation.AspNetCore\FluentValidationVisitor.cs:line 40
   at FluentValidation.AspNetCore.FluentValidationVisitor.ValidateInternal(ModelMetadata metadata, String key, Object model, Func`1 continuation) in C:\Projects\FluentValidation\src\FluentValidation.AspNetCore\FluentValidationVisitor.cs:line 67
   at FluentValidation.AspNetCore.FluentValidationVisitor.Validate(ModelMetadata metadata, String key, Object model, Boolean alwaysValidateAtTopLevel) in C:\Projects\FluentValidation\src\FluentValidation.AspNetCore\FluentValidationVisitor.cs:line 42
   at Microsoft.AspNetCore.Mvc.ModelBinding.ObjectModelValidator.Validate(ActionContext actionContext, ValidationStateDictionary validationState, String prefix, Object model, ModelMetadata metadata)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.EnforceBindRequiredAndValidate(ObjectModelValidator baseObjectValidator, ActionContext actionContext, ParameterDescriptor parameter, ModelMetadata metadata, ModelBindingContext modelBindingContext, ModelBindingResult modelBindingResult)
   at Microsoft.AspNetCore.Mvc.ModelBinding.ParameterBinder.BindModelAsync(ActionContext actionContext, IModelBinder modelBinder, IValueProvider valueProvider, ParameterDescriptor parameter, ModelMetadata metadata, Object value)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerBinderDelegateProvider.<>c__DisplayClass0_0.<<CreateBinderDelegate>g__Bind|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 16:12:23.316 +01:00 [INF] Request finished in 6445.0186ms 500 text/plain
2020-11-22 16:12:37.336 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 16:12:37.337 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:12:37.340 +01:00 [INF] Successfully validated the token.
2020-11-22 16:12:37.343 +01:00 [INF] Authorization was successful.
2020-11-22 16:12:37.343 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:12:37.343 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:13:41.736 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:13:42.133 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:13:42.135 +01:00 [INF] Hosting environment: Development
2020-11-22 16:13:42.136 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:13:42.164 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:13:42.237 +01:00 [INF] Request finished in 76.86ms 200 text/html;charset=utf-8
2020-11-22 16:13:42.446 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:13:42.537 +01:00 [INF] Request finished in 91.4118ms 200 application/json;charset=utf-8
2020-11-22 16:13:47.114 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:13:47.122 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:13:47.246 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:13:47.299 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:13:48.027 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:13:49.034 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:13:49.861 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:13:50.031 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:13:50.111 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2076.4735ms.
2020-11-22 16:13:50.120 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:13:50.142 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2837.3602ms
2020-11-22 16:13:50.142 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:13:50.146 +01:00 [INF] Request finished in 3033.8559ms 200 application/json; charset=utf-8
2020-11-22 16:14:13.503 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 49
2020-11-22 16:14:13.504 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:14:13.547 +01:00 [INF] Successfully validated the token.
2020-11-22 16:14:13.554 +01:00 [INF] Authorization was successful.
2020-11-22 16:14:13.555 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:14:13.562 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:14:13.595 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:14:18.980 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:14:19.014 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__FindFirst_Value_0
2020-11-22 16:14:19.022 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 5426.8632ms.
2020-11-22 16:15:04.123 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:15:04.508 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:15:04.510 +01:00 [INF] Hosting environment: Development
2020-11-22 16:15:04.513 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:15:04.540 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:15:04.620 +01:00 [INF] Request finished in 83.6533ms 200 text/html;charset=utf-8
2020-11-22 16:15:04.836 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:15:04.936 +01:00 [INF] Request finished in 100.577ms 200 application/json;charset=utf-8
2020-11-22 16:15:20.994 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:15:21.001 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:15:21.110 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:15:21.152 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:15:21.825 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:15:22.920 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:15:23.690 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:15:23.836 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:15:23.966 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2133.9452ms.
2020-11-22 16:15:23.972 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:15:23.994 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2837.3234ms
2020-11-22 16:15:23.994 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:15:23.997 +01:00 [INF] Request finished in 3006.5812ms 200 application/json; charset=utf-8
2020-11-22 16:15:53.270 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 52
2020-11-22 16:15:53.271 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:15:53.325 +01:00 [INF] Successfully validated the token.
2020-11-22 16:15:53.333 +01:00 [INF] Authorization was successful.
2020-11-22 16:15:53.334 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:15:53.336 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:15:53.383 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:15:57.420 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:15:57.511 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:15:57.512 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 4128.6287ms.
2020-11-22 16:16:07.879 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:16:07.880 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 14543.4174ms
2020-11-22 16:16:07.880 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:16:07.881 +01:00 [INF] Request finished in 14611.8921ms 200 
2020-11-22 16:16:47.078 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 52
2020-11-22 16:16:47.079 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:16:47.083 +01:00 [INF] Successfully validated the token.
2020-11-22 16:16:47.084 +01:00 [INF] Authorization was successful.
2020-11-22 16:16:47.092 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:16:47.094 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:16:47.128 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:16:49.394 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:16:49.423 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:16:49.423 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 2294.2388ms.
2020-11-22 16:16:49.423 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:16:49.423 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 2328.9276ms
2020-11-22 16:16:49.423 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:16:49.440 +01:00 [INF] Request finished in 2361.5439ms 200 
2020-11-22 16:20:41.199 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:20:41.559 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:20:41.561 +01:00 [INF] Hosting environment: Development
2020-11-22 16:20:41.568 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:20:41.592 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:20:41.650 +01:00 [INF] Request finished in 61.0922ms 200 text/html;charset=utf-8
2020-11-22 16:20:41.876 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:20:41.986 +01:00 [INF] Request finished in 110.053ms 200 application/json;charset=utf-8
2020-11-22 16:21:11.481 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:21:11.488 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:21:11.592 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:21:11.632 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:21:12.272 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:21:13.158 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:21:13.766 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:21:13.917 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:21:13.991 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1712.8406ms.
2020-11-22 16:21:13.995 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:21:14.018 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2380.0054ms
2020-11-22 16:21:14.019 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:21:14.022 +01:00 [INF] Request finished in 2549.1085ms 200 application/json; charset=utf-8
2020-11-22 16:21:53.455 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 49
2020-11-22 16:21:53.463 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:21:53.514 +01:00 [INF] Successfully validated the token.
2020-11-22 16:21:53.520 +01:00 [INF] Authorization was successful.
2020-11-22 16:21:53.520 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:21:53.522 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:21:53.555 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:21:56.369 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:21:56.441 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:21:56.442 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 2886.4075ms.
2020-11-22 16:21:58.356 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:21:58.357 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 4835.0498ms
2020-11-22 16:21:58.373 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:21:58.454 +01:00 [INF] Request finished in 4955.9622ms 200 
2020-11-22 16:22:16.393 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 49
2020-11-22 16:22:16.394 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:22:16.397 +01:00 [INF] Successfully validated the token.
2020-11-22 16:22:16.398 +01:00 [INF] Authorization was successful.
2020-11-22 16:22:16.399 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:22:16.401 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:22:27.991 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:22:38.831 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:22:39.952 +01:00 [INF] Executed DbCommand (1,116ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:22:39.974 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 11981.8708ms.
2020-11-22 16:22:39.974 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:22:39.976 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 23574.7651ms
2020-11-22 16:22:39.976 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:22:39.996 +01:00 [INF] Request finished in 23602.1118ms 200 
2020-11-22 16:24:33.515 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:24:33.850 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:24:33.852 +01:00 [INF] Hosting environment: Development
2020-11-22 16:24:33.854 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:24:33.881 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:24:33.941 +01:00 [INF] Request finished in 63.6476ms 200 text/html;charset=utf-8
2020-11-22 16:24:34.123 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:24:34.213 +01:00 [INF] Request finished in 90.3166ms 200 application/json;charset=utf-8
2020-11-22 16:24:46.228 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:24:46.234 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:24:46.339 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:24:46.384 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:24:47.054 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:24:47.935 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:24:48.562 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:24:48.697 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:24:48.770 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1704.7833ms.
2020-11-22 16:24:48.776 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:24:48.795 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2405.6511ms
2020-11-22 16:24:48.795 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:24:48.799 +01:00 [INF] Request finished in 2574.2997ms 200 application/json; charset=utf-8
2020-11-22 16:25:24.383 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:25:24.383 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:25:24.424 +01:00 [INF] Successfully validated the token.
2020-11-22 16:25:24.429 +01:00 [INF] Authorization was successful.
2020-11-22 16:25:24.429 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:24.439 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:25:24.467 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:25:24.496 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:25:24.526 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 59.3159ms.
2020-11-22 16:25:24.528 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:25:24.532 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:25:24.532 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 93.1645ms
2020-11-22 16:25:24.532 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:24.534 +01:00 [INF] Request finished in 151.9218ms 200 
2020-11-22 16:25:24.544 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 16:25:24.652 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.Enumerator.MoveNext()
2020-11-22 16:25:43.098 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:25:43.099 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:25:43.102 +01:00 [INF] Successfully validated the token.
2020-11-22 16:25:43.104 +01:00 [INF] Authorization was successful.
2020-11-22 16:25:43.105 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:43.106 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:25:43.131 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:25:43.139 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:25:43.144 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 13.1293ms.
2020-11-22 16:25:43.144 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:25:43.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:25:43.145 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 36.3213ms
2020-11-22 16:25:43.145 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:43.146 +01:00 [INF] Request finished in 47.5525ms 200 
2020-11-22 16:25:43.961 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:25:43.962 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:25:43.963 +01:00 [INF] Successfully validated the token.
2020-11-22 16:25:43.965 +01:00 [INF] Authorization was successful.
2020-11-22 16:25:43.965 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:43.966 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:25:43.987 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:25:43.988 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:25:43.992 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 4.3784ms.
2020-11-22 16:25:43.992 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:25:43.992 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:25:43.992 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 25.707ms
2020-11-22 16:25:43.992 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:43.995 +01:00 [INF] Request finished in 33.7101ms 200 
2020-11-22 16:25:44.026 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.InvalidOperationException: Invalid attempt to call CheckDataIsReady when reader is closed.
   at Microsoft.Data.SqlClient.SqlDataReader.CheckDataIsReady(Int32 columnIndex, Boolean allowPartiallyReadColumn, Boolean permitAsync, String methodName)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadColumn(Int32 i, Boolean setTimeout, Boolean allowPartiallyReadColumn)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadColumn(Int32 i, Boolean setTimeout, Boolean allowPartiallyReadColumn)
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid attempt to call CheckDataIsReady when reader is closed.
   at Microsoft.Data.SqlClient.SqlDataReader.CheckDataIsReady(Int32 columnIndex, Boolean allowPartiallyReadColumn, Boolean permitAsync, String methodName)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadColumn(Int32 i, Boolean setTimeout, Boolean allowPartiallyReadColumn)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadColumn(Int32 i, Boolean setTimeout, Boolean allowPartiallyReadColumn)
   at Microsoft.Data.SqlClient.SqlDataReader.GetInt32(Int32 i)
   at lambda_method(Closure , QueryContext , DbDataReader , ResultContext , SingleQueryResultCoordinator )
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:25:44.485 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:25:44.486 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:25:44.487 +01:00 [INF] Successfully validated the token.
2020-11-22 16:25:44.489 +01:00 [INF] Authorization was successful.
2020-11-22 16:25:44.489 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:44.490 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:25:44.520 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:25:44.521 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:25:44.526 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 5.4499ms.
2020-11-22 16:25:44.526 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:25:44.526 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 36.4723ms
2020-11-22 16:25:44.527 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:44.527 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:25:44.537 +01:00 [INF] Request finished in 51.4107ms 200 
2020-11-22 16:25:44.550 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:25:45.015 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:25:45.016 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:25:45.017 +01:00 [INF] Successfully validated the token.
2020-11-22 16:25:45.018 +01:00 [INF] Authorization was successful.
2020-11-22 16:25:45.018 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:45.019 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:25:45.041 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:25:45.042 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:25:45.046 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 4.2284ms.
2020-11-22 16:25:45.046 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:25:45.046 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 27.2119ms
2020-11-22 16:25:45.046 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:25:45.046 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:25:45.047 +01:00 [INF] Request finished in 32.2661ms 200 
2020-11-22 16:25:45.052 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:06.152 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:06.155 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:06.156 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:06.156 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:06.157 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:06.157 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:06.180 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:06.183 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:06.191 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 10.8553ms.
2020-11-22 16:27:06.192 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:06.192 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 34.9852ms
2020-11-22 16:27:06.192 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:06.197 +01:00 [INF] Request finished in 46.2911ms 200 
2020-11-22 16:27:06.216 +01:00 [ERR] Failed executing DbCommand (20ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:06.235 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:07.066 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:07.066 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:07.067 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:07.067 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:07.067 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.068 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:07.086 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:07.087 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:07.100 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 14.1651ms.
2020-11-22 16:27:07.101 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:07.101 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 32.7583ms
2020-11-22 16:27:07.101 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.102 +01:00 [INF] Request finished in 36.1127ms 200 
2020-11-22 16:27:07.119 +01:00 [ERR] An error occurred using the connection to database 'CurriculumDatabase' on server '(localdb)\mssqllocaldb'.
2020-11-22 16:27:07.129 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:07.358 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:07.359 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:07.359 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:07.360 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:07.360 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.360 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:07.382 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:07.382 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:07.385 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 2.9451ms.
2020-11-22 16:27:07.385 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:07.385 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 24.5855ms
2020-11-22 16:27:07.385 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.385 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:07.385 +01:00 [INF] Request finished in 27.1927ms 200 
2020-11-22 16:27:07.392 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:07.564 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:07.564 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:07.564 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:07.565 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:07.565 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.565 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:07.593 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:07.594 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:07.595 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 1.7201ms.
2020-11-22 16:27:07.595 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:07.595 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 30.6554ms
2020-11-22 16:27:07.595 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.598 +01:00 [INF] Request finished in 33.5822ms 200 
2020-11-22 16:27:07.598 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:07.608 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:07.760 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:07.760 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:07.760 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:07.761 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:07.761 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.761 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:07.783 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:07.785 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:07.788 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 3.9727ms.
2020-11-22 16:27:07.788 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:07.788 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 26.9607ms
2020-11-22 16:27:07.788 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.791 +01:00 [INF] Request finished in 31.0528ms 200 
2020-11-22 16:27:07.796 +01:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:07.804 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:07.941 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:07.941 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:07.942 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:07.942 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:07.942 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.943 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:07.966 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:07.967 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:07.977 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 11.247ms.
2020-11-22 16:27:07.978 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:07.978 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 34.8338ms
2020-11-22 16:27:07.978 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:07.979 +01:00 [INF] Request finished in 38.1663ms 200 
2020-11-22 16:27:07.982 +01:00 [ERR] An error occurred using the connection to database 'CurriculumDatabase' on server '(localdb)\mssqllocaldb'.
2020-11-22 16:27:07.998 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:08.325 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:08.326 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:08.327 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:08.328 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:08.328 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:08.328 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:08.349 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:08.349 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:08.352 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 3.4025ms.
2020-11-22 16:27:08.353 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:08.353 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 24.1579ms
2020-11-22 16:27:08.353 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:08.354 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:08.355 +01:00 [INF] Request finished in 29.219ms 200 
2020-11-22 16:27:08.363 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:08.524 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:08.524 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:08.525 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:08.525 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:08.525 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:08.525 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:08.544 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:08.545 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:08.547 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 2.7483ms.
2020-11-22 16:27:08.547 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:08.547 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 21.9128ms
2020-11-22 16:27:08.547 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:08.549 +01:00 [INF] Request finished in 25.4523ms 200 
2020-11-22 16:27:08.553 +01:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:08.559 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:08.733 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:08.733 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:08.733 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:08.734 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:08.734 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:08.734 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:08.754 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:08.754 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:08.765 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 11.0331ms.
2020-11-22 16:27:08.765 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:08.765 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 31.0963ms
2020-11-22 16:27:08.765 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:08.766 +01:00 [INF] Request finished in 33.2963ms 200 
2020-11-22 16:27:08.775 +01:00 [ERR] An error occurred using the connection to database 'CurriculumDatabase' on server '(localdb)\mssqllocaldb'.
2020-11-22 16:27:08.788 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:08.980 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:08.980 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:08.981 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:08.983 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:08.983 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:08.983 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:09.004 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:09.006 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:09.009 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 4.1851ms.
2020-11-22 16:27:09.009 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:09.009 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 26.3037ms
2020-11-22 16:27:09.009 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:09.010 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:09.010 +01:00 [INF] Request finished in 30.0778ms 200 
2020-11-22 16:27:09.018 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:09.399 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:09.399 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:09.399 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:09.400 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:09.400 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:09.400 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:09.420 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:09.421 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:09.424 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 4.025ms.
2020-11-22 16:27:09.425 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:09.425 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 24.7919ms
2020-11-22 16:27:09.425 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:09.426 +01:00 [INF] Request finished in 26.845ms 200 
2020-11-22 16:27:09.425 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:09.439 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:15.445 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:15.445 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:15.446 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:15.446 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:15.446 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:15.446 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:15.479 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:15.480 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:15.482 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 3.0434ms.
2020-11-22 16:27:15.483 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:15.483 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 36.6792ms
2020-11-22 16:27:15.483 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:15.484 +01:00 [INF] Request finished in 38.8275ms 200 
2020-11-22 16:27:15.523 +01:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:15.531 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:16.022 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:16.022 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:16.023 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:16.024 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:16.024 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:16.024 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:16.046 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:16.047 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:16.060 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 13.7172ms.
2020-11-22 16:27:16.060 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:16.060 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 36.1757ms
2020-11-22 16:27:16.060 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:16.061 +01:00 [INF] Request finished in 38.569ms 200 
2020-11-22 16:27:16.074 +01:00 [ERR] An error occurred using the connection to database 'CurriculumDatabase' on server '(localdb)\mssqllocaldb'.
2020-11-22 16:27:16.091 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:16.277 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:16.277 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:16.278 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:16.278 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:16.278 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:16.279 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:16.306 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:16.307 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:16.310 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 2.8977ms.
2020-11-22 16:27:16.310 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:16.310 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 31.089ms
2020-11-22 16:27:16.310 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:16.313 +01:00 [INF] Request finished in 33.7687ms 200 
2020-11-22 16:27:16.324 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:27:16.332 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:27:16.529 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 48
2020-11-22 16:27:16.529 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:27:16.530 +01:00 [INF] Successfully validated the token.
2020-11-22 16:27:16.530 +01:00 [INF] Authorization was successful.
2020-11-22 16:27:16.530 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:16.530 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:27:16.554 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:27:16.555 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:27:16.565 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkResult in 10.9023ms.
2020-11-22 16:27:16.565 +01:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-11-22 16:27:16.565 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 34.5864ms
2020-11-22 16:27:16.565 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:27:16.565 +01:00 [INF] Request finished in 36.9592ms 200 
2020-11-22 16:27:16.571 +01:00 [ERR] An error occurred using the connection to database 'CurriculumDatabase' on server '(localdb)\mssqllocaldb'.
2020-11-22 16:27:16.586 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-22 16:29:27.394 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 16:29:27.754 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 16:29:27.757 +01:00 [INF] Hosting environment: Development
2020-11-22 16:29:27.760 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 16:29:27.785 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 16:29:27.850 +01:00 [INF] Request finished in 69.6278ms 200 text/html;charset=utf-8
2020-11-22 16:29:28.062 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 16:29:28.162 +01:00 [INF] Request finished in 100.7839ms 200 application/json;charset=utf-8
2020-11-22 16:29:38.516 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 16:29:38.522 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:29:38.624 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:29:38.663 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:29:39.306 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:29:40.338 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:29:41.112 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 16:29:41.296 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 16:29:41.374 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2059.1358ms.
2020-11-22 16:29:41.380 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 16:29:41.403 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2735.5979ms
2020-11-22 16:29:41.403 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 16:29:41.410 +01:00 [INF] Request finished in 2896.2958ms 200 application/json; charset=utf-8
2020-11-22 16:30:10.966 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 16:30:10.967 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 16:30:11.010 +01:00 [INF] Successfully validated the token.
2020-11-22 16:30:11.016 +01:00 [INF] Authorization was successful.
2020-11-22 16:30:11.017 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:30:11.027 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 16:30:11.057 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 16:30:11.090 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 16:30:11.129 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 16:30:11.143 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 16:30:22.400 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 11373.4803ms
2020-11-22 16:30:22.404 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 16:30:22.519 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> User
System.Object -> CurriculumRepository.API.Models.User
   at lambda_method(Closure , Object , User , ResolutionContext )
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 163
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 56
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 16:30:22.538 +01:00 [INF] Request finished in 11578.8091ms 500 text/plain
2020-11-22 20:13:18.695 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 20:13:19.067 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 20:13:19.072 +01:00 [INF] Hosting environment: Development
2020-11-22 20:13:19.074 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 20:13:19.107 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 20:13:19.181 +01:00 [INF] Request finished in 77.5768ms 200 text/html;charset=utf-8
2020-11-22 20:13:19.400 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 20:13:19.508 +01:00 [INF] Request finished in 108.1067ms 200 application/json;charset=utf-8
2020-11-22 20:13:35.766 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 20:13:35.776 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:13:35.900 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:13:35.951 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:13:36.628 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:13:37.559 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:13:38.260 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 20:13:38.397 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 20:13:38.495 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1859.0986ms.
2020-11-22 20:13:38.501 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 20:13:38.522 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2566.2838ms
2020-11-22 20:13:38.526 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:13:38.533 +01:00 [INF] Request finished in 2768.1135ms 200 application/json; charset=utf-8
2020-11-22 20:14:23.467 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 53
2020-11-22 20:14:23.468 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:14:23.502 +01:00 [INF] Successfully validated the token.
2020-11-22 20:14:23.509 +01:00 [INF] Authorization was successful.
2020-11-22 20:14:23.510 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:14:23.529 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:14:23.576 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:14:23.605 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:14:23.644 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 20:14:23.662 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 20:14:34.256 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 10727.1666ms
2020-11-22 20:14:34.257 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:14:34.417 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> User
System.Object -> CurriculumRepository.API.Models.User
   at lambda_method(Closure , Object , User , ResolutionContext )
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 163
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 20:14:34.437 +01:00 [INF] Request finished in 10970.3573ms 500 text/plain
2020-11-22 20:15:30.751 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 53
2020-11-22 20:15:30.760 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:15:30.763 +01:00 [INF] Successfully validated the token.
2020-11-22 20:15:30.765 +01:00 [INF] Authorization was successful.
2020-11-22 20:15:30.772 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:15:30.772 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:15:30.795 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:15:30.803 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:15:30.810 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 20:15:30.815 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 20:15:35.944 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 5171.7096ms
2020-11-22 20:15:35.945 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:15:35.950 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> User
System.Object -> CurriculumRepository.API.Models.User
   at lambda_method(Closure , Object , User , ResolutionContext )
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 163
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 20:15:35.954 +01:00 [INF] Request finished in 5204.0829ms 500 text/plain
2020-11-22 20:16:25.499 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 20:16:25.873 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 20:16:25.885 +01:00 [INF] Hosting environment: Development
2020-11-22 20:16:25.895 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 20:16:25.922 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 20:16:25.996 +01:00 [INF] Request finished in 77.587ms 200 text/html;charset=utf-8
2020-11-22 20:16:26.198 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 20:16:26.341 +01:00 [INF] Request finished in 142.8494ms 200 application/json;charset=utf-8
2020-11-22 20:16:49.598 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 20:16:49.611 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:16:49.824 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:16:49.928 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:16:50.580 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:16:51.479 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:16:52.147 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 20:16:52.291 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 20:16:52.367 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1779.467ms.
2020-11-22 20:16:52.373 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 20:16:52.397 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2461.9762ms
2020-11-22 20:16:52.398 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:16:52.404 +01:00 [INF] Request finished in 2810.5786ms 200 application/json; charset=utf-8
2020-11-22 20:17:35.756 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 20:17:35.757 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:17:35.794 +01:00 [INF] Successfully validated the token.
2020-11-22 20:17:35.801 +01:00 [INF] Authorization was successful.
2020-11-22 20:17:35.801 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:17:35.816 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:17:35.864 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:17:35.893 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:17:35.934 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 20:17:35.948 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 20:17:40.262 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 4445.2383ms
2020-11-22 20:17:40.262 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:17:40.318 +01:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Object -> User
System.Object -> CurriculumRepository.API.Models.User
   at lambda_method(Closure , Object , User , ResolutionContext )
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 163
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 20:17:40.333 +01:00 [INF] Request finished in 4585.2749ms 500 text/plain
2020-11-22 20:18:15.534 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 20:18:15.851 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 20:18:15.854 +01:00 [INF] Hosting environment: Development
2020-11-22 20:18:15.855 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 20:18:15.881 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 20:18:15.946 +01:00 [INF] Request finished in 69.0251ms 200 text/html;charset=utf-8
2020-11-22 20:18:16.126 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 20:18:16.210 +01:00 [INF] Request finished in 83.7023ms 200 application/json;charset=utf-8
2020-11-22 20:18:38.368 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 20:18:38.372 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:18:38.464 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:18:38.505 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:18:39.103 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:18:40.011 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:18:40.647 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 20:18:40.792 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 20:18:40.872 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1761.7719ms.
2020-11-22 20:18:40.877 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 20:18:40.901 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2390.5856ms
2020-11-22 20:18:40.902 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:18:40.906 +01:00 [INF] Request finished in 2539.4111ms 200 application/json; charset=utf-8
2020-11-22 20:19:11.390 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 53
2020-11-22 20:19:11.391 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:19:11.454 +01:00 [INF] Successfully validated the token.
2020-11-22 20:19:11.461 +01:00 [INF] Authorization was successful.
2020-11-22 20:19:11.461 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:19:11.466 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:19:11.498 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:19:11.534 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:19:11.572 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 20:19:11.588 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 20:19:24.482 +01:00 [ERR] Failed executing DbCommand (51ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (Size = 8000) (DbType = Binary), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [IsDeleted], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-22 20:19:24.526 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 20:19:25.075 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 13608.1615ms
2020-11-22 20:19:25.076 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:19:25.177 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 565
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 166
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 20:19:25.197 +01:00 [INF] Request finished in 13807.6108ms 500 text/plain
2020-11-22 20:20:01.258 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 20:20:01.608 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 20:20:01.612 +01:00 [INF] Hosting environment: Development
2020-11-22 20:20:01.613 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 20:20:01.637 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 20:20:01.700 +01:00 [INF] Request finished in 66.7616ms 200 text/html;charset=utf-8
2020-11-22 20:20:01.886 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 20:20:01.988 +01:00 [INF] Request finished in 102.2515ms 200 application/json;charset=utf-8
2020-11-22 20:20:25.460 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 20:20:25.465 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:20:25.575 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:20:25.623 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:20:26.212 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:20:27.119 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:20:27.733 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 20:20:27.867 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 20:20:27.948 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1728.4759ms.
2020-11-22 20:20:27.954 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 20:20:27.978 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2348.0484ms
2020-11-22 20:20:27.979 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:20:27.985 +01:00 [INF] Request finished in 2526.1124ms 200 application/json; charset=utf-8
2020-11-22 20:21:57.721 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 20:21:57.728 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:21:57.776 +01:00 [INF] Successfully validated the token.
2020-11-22 20:21:57.786 +01:00 [INF] Authorization was successful.
2020-11-22 20:21:57.786 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:21:57.790 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:21:57.820 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:21:57.850 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:21:57.884 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 20:21:57.900 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 20:22:25.787 +01:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (Size = 8000) (DbType = Binary), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [IsDeleted], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-22 20:22:25.836 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 20:22:26.361 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 28570.9059ms
2020-11-22 20:22:26.362 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:22:26.409 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 566
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 166
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 20:22:26.427 +01:00 [INF] Request finished in 28707.782ms 500 text/plain
2020-11-22 20:28:46.373 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 20:28:46.375 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:28:46.389 +01:00 [INF] Successfully validated the token.
2020-11-22 20:28:46.390 +01:00 [INF] Authorization was successful.
2020-11-22 20:28:46.397 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:28:46.398 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:28:46.421 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:28:46.441 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:28:46.471 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 20:28:46.474 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 20:32:47.412 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 20:32:47.746 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 20:32:47.748 +01:00 [INF] Hosting environment: Development
2020-11-22 20:32:47.749 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 20:32:47.776 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 20:32:47.848 +01:00 [INF] Request finished in 75.6565ms 200 text/html;charset=utf-8
2020-11-22 20:32:48.055 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 20:32:48.235 +01:00 [INF] Request finished in 180.232ms 200 application/json;charset=utf-8
2020-11-22 20:33:05.996 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 20:33:06.003 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:33:06.109 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:33:06.156 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:33:06.748 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:33:07.610 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:33:08.239 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 20:33:08.370 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 20:33:08.455 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1700.3408ms.
2020-11-22 20:33:08.460 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 20:33:08.483 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2320.1449ms
2020-11-22 20:33:08.484 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 20:33:08.489 +01:00 [INF] Request finished in 2495.3205ms 200 application/json; charset=utf-8
2020-11-22 20:33:29.064 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 20:33:29.073 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:33:29.122 +01:00 [INF] Successfully validated the token.
2020-11-22 20:33:29.128 +01:00 [INF] Authorization was successful.
2020-11-22 20:33:29.128 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:33:29.132 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:33:29.164 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:33:29.195 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:33:29.234 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 20:33:29.249 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 20:33:49.761 +01:00 [ERR] Failed executing DbCommand (50ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (Size = 8000) (DbType = Binary), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [IsDeleted], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-22 20:33:49.815 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 20:33:50.185 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 21053.3035ms
2020-11-22 20:33:50.186 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:33:50.246 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 566
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 166
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 20:33:50.270 +01:00 [INF] Request finished in 21206.0439ms 500 text/plain
2020-11-22 20:33:56.063 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 20:33:56.063 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 20:33:56.068 +01:00 [INF] Successfully validated the token.
2020-11-22 20:33:56.069 +01:00 [INF] Authorization was successful.
2020-11-22 20:33:56.070 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 20:33:56.070 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 20:34:10.827 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 20:34:10.837 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 20:34:10.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 20:34:10.845 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 21:00:34.093 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 21:00:34.435 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 21:00:34.437 +01:00 [INF] Hosting environment: Development
2020-11-22 21:00:34.443 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 21:00:34.480 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 21:00:34.541 +01:00 [INF] Request finished in 64.523ms 200 text/html;charset=utf-8
2020-11-22 21:00:34.741 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 21:00:34.840 +01:00 [INF] Request finished in 98.9184ms 200 application/json;charset=utf-8
2020-11-22 21:00:46.718 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 21:00:46.728 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:00:46.825 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 21:00:46.865 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:00:47.428 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:00:48.345 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:00:48.993 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 21:00:49.148 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 21:00:49.224 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1788.9116ms.
2020-11-22 21:00:49.230 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 21:00:49.251 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2381.0064ms
2020-11-22 21:00:49.252 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 21:00:49.257 +01:00 [INF] Request finished in 2541.0894ms 200 application/json; charset=utf-8
2020-11-22 21:01:22.262 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 53
2020-11-22 21:01:22.262 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:01:22.312 +01:00 [INF] Successfully validated the token.
2020-11-22 21:01:22.319 +01:00 [INF] Authorization was successful.
2020-11-22 21:01:22.319 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:01:22.323 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:01:22.358 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:01:22.390 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:01:22.428 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 21:01:22.442 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 21:01:42.877 +01:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (DbType = Boolean), @p3='?' (Size = 50), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (Size = 8000) (DbType = Binary), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [IsDeleted], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-22 21:01:42.912 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 21:01:43.180 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 20856.7288ms
2020-11-22 21:01:43.181 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:01:43.225 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 566
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 166
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 21:01:43.246 +01:00 [INF] Request finished in 20984.8422ms 500 text/plain
2020-11-22 21:28:52.135 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 21:28:52.609 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 21:28:52.611 +01:00 [INF] Hosting environment: Development
2020-11-22 21:28:52.613 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 21:28:52.642 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 21:28:52.713 +01:00 [INF] Request finished in 74.4258ms 200 text/html;charset=utf-8
2020-11-22 21:28:52.935 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 21:28:53.046 +01:00 [INF] Request finished in 111.3664ms 200 application/json;charset=utf-8
2020-11-22 21:29:13.519 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 21:29:13.525 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:29:13.632 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 21:29:13.684 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:29:14.358 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:29:15.255 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:29:15.901 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 21:29:16.048 +01:00 [INF] User with ID: 168 successfully authenticated.
2020-11-22 21:29:16.049 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 21:29:16.149 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1782.7739ms.
2020-11-22 21:29:16.154 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 21:29:16.179 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2487.5296ms
2020-11-22 21:29:16.180 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 21:29:16.184 +01:00 [INF] Request finished in 2666.579ms 200 application/json; charset=utf-8
2020-11-22 21:29:45.770 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 21:29:45.771 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:29:45.855 +01:00 [INF] Successfully validated the token.
2020-11-22 21:29:45.864 +01:00 [INF] Authorization was successful.
2020-11-22 21:29:45.864 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:29:45.868 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:29:45.900 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:29:45.931 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:29:45.969 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 21:29:45.985 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 21:30:01.702 +01:00 [ERR] Failed executing DbCommand (58ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Firstname] = @p1, [Lastname] = @p2
WHERE [IDUser] = @p3;
SELECT @@ROWCOUNT;
2020-11-22 21:30:01.795 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:527357f1-e095-4477-8e19-3f77ad0c26c6
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:527357f1-e095-4477-8e19-3f77ad0c26c6
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 21:30:02.058 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 16189.974ms
2020-11-22 21:30:02.060 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:30:02.112 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:527357f1-e095-4477-8e19-3f77ad0c26c6
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 566
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 172
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 21:30:02.132 +01:00 [INF] Request finished in 16362.4264ms 500 text/plain
2020-11-22 21:30:22.038 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 21:30:22.038 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:30:22.046 +01:00 [INF] Successfully validated the token.
2020-11-22 21:30:22.051 +01:00 [INF] Authorization was successful.
2020-11-22 21:30:22.051 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:30:22.053 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:30:22.082 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:30:22.090 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:30:22.096 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 21:30:22.098 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 21:30:36.808 +01:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Firstname] = @p1, [Lastname] = @p2
WHERE [IDUser] = @p3;
SELECT @@ROWCOUNT;
2020-11-22 21:30:36.824 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:527357f1-e095-4477-8e19-3f77ad0c26c6
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:527357f1-e095-4477-8e19-3f77ad0c26c6
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 21:30:37.052 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 14998.5663ms
2020-11-22 21:30:37.052 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:30:37.064 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:527357f1-e095-4477-8e19-3f77ad0c26c6
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 566
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 172
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 21:30:37.070 +01:00 [INF] Request finished in 15032.6549ms 500 text/plain
2020-11-22 21:30:38.431 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 21:30:38.432 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:30:38.433 +01:00 [INF] Successfully validated the token.
2020-11-22 21:30:38.444 +01:00 [INF] Authorization was successful.
2020-11-22 21:30:38.444 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:30:38.448 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:30:38.469 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:30:38.470 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:30:38.474 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 21:30:38.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 21:36:33.914 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 21:36:34.284 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 21:36:34.291 +01:00 [INF] Hosting environment: Development
2020-11-22 21:36:34.293 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 21:36:34.329 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 21:36:34.402 +01:00 [INF] Request finished in 77.7882ms 200 text/html;charset=utf-8
2020-11-22 21:36:34.656 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 21:36:34.799 +01:00 [INF] Request finished in 143.8188ms 200 application/json;charset=utf-8
2020-11-22 21:37:00.495 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 21:37:00.500 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:37:00.604 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 21:37:00.655 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:37:01.304 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:37:02.189 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:37:02.793 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 21:37:02.929 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 21:37:02.929 +01:00 [INF] User with ID: 168 successfully authenticated.
2020-11-22 21:37:03.009 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1696.5992ms.
2020-11-22 21:37:03.015 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 21:37:03.039 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2378.161ms
2020-11-22 21:37:03.040 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 21:37:03.049 +01:00 [INF] Request finished in 2555.1764ms 200 application/json; charset=utf-8
2020-11-22 21:37:34.218 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 54
2020-11-22 21:37:34.219 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:37:34.269 +01:00 [INF] Successfully validated the token.
2020-11-22 21:37:34.275 +01:00 [INF] Authorization was successful.
2020-11-22 21:37:34.275 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:37:34.295 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:37:34.368 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:37:34.405 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:37:34.438 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 21:37:34.452 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 21:37:40.752 +01:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Firstname] = @p1, [Lastname] = @p2
WHERE [IDUser] = @p3;
SELECT @@ROWCOUNT;
2020-11-22 21:37:40.817 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d44a254d-20b6-4c8a-a3fc-70dc441abc37
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d44a254d-20b6-4c8a-a3fc-70dc441abc37
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 21:37:41.155 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 6859.3636ms
2020-11-22 21:37:41.155 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:37:41.285 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d44a254d-20b6-4c8a-a3fc-70dc441abc37
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 566
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 172
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 21:37:41.323 +01:00 [INF] Request finished in 7104.9905ms 500 text/plain
2020-11-22 21:37:46.940 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 54
2020-11-22 21:37:46.941 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:37:46.960 +01:00 [INF] Successfully validated the token.
2020-11-22 21:37:46.962 +01:00 [INF] Authorization was successful.
2020-11-22 21:37:46.962 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:37:46.962 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:37:46.990 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:37:46.997 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:37:47.004 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 21:37:47.006 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 21:40:01.055 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 21:40:01.762 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 21:40:01.774 +01:00 [INF] Hosting environment: Development
2020-11-22 21:40:01.775 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 21:40:01.807 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 21:40:01.875 +01:00 [INF] Request finished in 72.3048ms 200 text/html;charset=utf-8
2020-11-22 21:40:02.128 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 21:40:02.281 +01:00 [INF] Request finished in 155.4341ms 200 application/json;charset=utf-8
2020-11-22 21:40:25.382 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 21:40:25.388 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:40:25.488 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 21:40:25.538 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:40:26.074 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:40:26.935 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:40:27.526 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 21:40:27.672 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 21:40:27.708 +01:00 [INF] User with ID: 168 successfully authenticated.
2020-11-22 21:40:27.805 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1721.4919ms.
2020-11-22 21:40:27.812 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 21:40:27.842 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2299.9728ms
2020-11-22 21:40:27.844 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 21:40:27.849 +01:00 [INF] Request finished in 2474.0799ms 200 application/json; charset=utf-8
2020-11-22 21:40:56.713 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 52
2020-11-22 21:40:56.714 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 21:40:56.762 +01:00 [INF] Successfully validated the token.
2020-11-22 21:40:56.767 +01:00 [INF] Authorization was successful.
2020-11-22 21:40:56.767 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:40:56.781 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 21:40:56.810 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 21:40:56.839 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 21:40:56.874 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 21:40:56.890 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 21:41:17.355 +01:00 [ERR] Failed executing DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Firstname] = @p1, [Lastname] = @p2
WHERE [IDUser] = @p3;
SELECT @@ROWCOUNT;
2020-11-22 21:41:17.421 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:502296cd-b3ed-409d-955a-9d9f0ec5dd50
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:502296cd-b3ed-409d-955a-9d9f0ec5dd50
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 21:41:17.714 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 20931.9655ms
2020-11-22 21:41:17.715 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 21:41:17.757 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:502296cd-b3ed-409d-955a-9d9f0ec5dd50
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 566
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 172
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 21:41:17.777 +01:00 [INF] Request finished in 21065.0983ms 500 text/plain
2020-11-22 23:07:39.114 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 23:07:40.084 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 23:07:40.112 +01:00 [INF] Hosting environment: Development
2020-11-22 23:07:40.115 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 23:07:40.161 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 23:07:40.270 +01:00 [INF] Request finished in 116.2755ms 200 text/html;charset=utf-8
2020-11-22 23:07:40.729 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 23:07:41.171 +01:00 [INF] Request finished in 443.1065ms 200 application/json;charset=utf-8
2020-11-22 23:08:01.878 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 23:08:01.899 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 23:08:02.205 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 23:08:02.240 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 23:08:02.240 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 23:08:02.249 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 23:08:02.317 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 23:08:02.331 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 23:08:05.056 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 23:08:05.056 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 23:08:08.118 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 23:08:08.118 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 23:08:10.443 +01:00 [INF] Executed DbCommand (577ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 23:08:10.451 +01:00 [INF] Executed DbCommand (373ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 23:08:10.747 +01:00 [INF] Executed DbCommand (69ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 23:08:10.781 +01:00 [INF] Executed DbCommand (103ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 23:08:10.784 +01:00 [INF] User with ID: 168 successfully authenticated.
2020-11-22 23:08:10.788 +01:00 [INF] User with ID: 168 successfully authenticated.
2020-11-22 23:08:10.934 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5864.054ms.
2020-11-22 23:08:10.945 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 23:08:10.946 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5885.6288ms.
2020-11-22 23:08:10.947 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 23:08:10.987 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 8664.0776ms
2020-11-22 23:08:10.987 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 8651.0498ms
2020-11-22 23:08:10.989 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 23:08:10.989 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 23:08:11.017 +01:00 [INF] Request finished in 8776.4432ms 200 application/json; charset=utf-8
2020-11-22 23:08:11.017 +01:00 [INF] Request finished in 9142.38ms 200 application/json; charset=utf-8
2020-11-22 23:08:42.805 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 23:08:42.814 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 23:08:42.880 +01:00 [INF] Successfully validated the token.
2020-11-22 23:08:42.890 +01:00 [INF] Authorization was successful.
2020-11-22 23:08:42.891 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 23:08:42.898 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 23:08:42.965 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 23:08:43.034 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 23:08:43.231 +01:00 [INF] Executed DbCommand (79ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 23:08:43.287 +01:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
2020-11-22 23:08:50.138 +01:00 [ERR] Failed executing DbCommand (69ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [User] SET [Email] = @p0, [Firstname] = @p1, [Lastname] = @p2
WHERE [IDUser] = @p3;
SELECT @@ROWCOUNT;
2020-11-22 23:08:50.330 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3e322ade-70b0-4c0c-83fe-f0bd4e084541
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3e322ade-70b0-4c0c-83fe-f0bd4e084541
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-22 23:08:52.057 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) in 9159.2668ms
2020-11-22 23:08:52.064 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 23:08:52.190 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'Email', table 'CurriculumDatabase.dbo.User'; column does not allow nulls. UPDATE fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:3e322ade-70b0-4c0c-83fe-f0bd4e084541
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Models.CurriculumDatabaseContext.SaveChangesAsync(CancellationToken cancellationToken) in D:\Programming\CurriculumRepository\CurriculumRepository.CORE\Data\CurriculumDatabaseContext.cs:line 566
   at CurriculumRepository.API.Services.AccountService.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 172
   at CurriculumRepository.API.Controllers.AccountController.Update(UpdateUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 59
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-22 23:08:52.243 +01:00 [INF] Request finished in 9438.735ms 500 text/plain
2020-11-22 23:11:28.089 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 23:11:29.030 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 23:11:29.064 +01:00 [INF] Hosting environment: Development
2020-11-22 23:11:29.068 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 23:11:29.120 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 23:11:29.467 +01:00 [INF] Request finished in 352.7675ms 200 text/html;charset=utf-8
2020-11-22 23:11:30.147 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 23:11:30.291 +01:00 [INF] Request finished in 145.9706ms 200 application/json;charset=utf-8
2020-11-22 23:13:56.059 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-22 23:13:56.995 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-22 23:13:57.001 +01:00 [INF] Hosting environment: Development
2020-11-22 23:13:57.038 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-22 23:13:57.134 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-22 23:13:57.274 +01:00 [INF] Request finished in 142.5551ms 200 text/html;charset=utf-8
2020-11-22 23:13:57.679 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-22 23:13:57.930 +01:00 [INF] Request finished in 251.4712ms 200 application/json;charset=utf-8
2020-11-22 23:14:11.689 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-22 23:14:11.701 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 23:14:12.098 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 23:14:12.227 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 23:14:14.491 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 23:14:16.721 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 23:14:18.463 +01:00 [INF] Executed DbCommand (144ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-22 23:14:18.923 +01:00 [INF] User with ID: 168 successfully authenticated.
2020-11-22 23:14:18.923 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-22 23:14:19.194 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4694.4873ms.
2020-11-22 23:14:19.207 +01:00 [INF] Executing ObjectResult, writing value of type 'CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO'.
2020-11-22 23:14:19.271 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 7031.7244ms
2020-11-22 23:14:19.277 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-22 23:14:19.285 +01:00 [INF] Request finished in 7599.0849ms 200 application/json; charset=utf-8
2020-11-22 23:14:44.649 +01:00 [INF] Request starting HTTP/2.0 PATCH https://localhost:44361/api/Account application/json-patch+json 51
2020-11-22 23:14:44.655 +01:00 [INF] No CORS policy found for the specified request.
2020-11-22 23:14:44.794 +01:00 [INF] Successfully validated the token.
2020-11-22 23:14:44.812 +01:00 [INF] Authorization was successful.
2020-11-22 23:14:44.812 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API)'
2020-11-22 23:14:44.820 +01:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(CurriculumRepository.CORE.Data.Models.UpdateUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-22 23:14:44.922 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Update (CurriculumRepository.API) - Validation state: "Valid"
2020-11-22 23:14:44.987 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-22 23:14:45.160 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[@__FindFirst_Value_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[IsDeleted], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE CONVERT(VARCHAR(11), [u].[IDUser]) = @__FindFirst_Value_0
2020-11-22 23:14:45.220 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CAST(0 AS bit)
