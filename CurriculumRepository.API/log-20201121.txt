2020-11-21 00:00:00.017 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 00:00:00.566 +01:00 [INF] Request finished in 553.7402ms 200 text/html;charset=utf-8
2020-11-21 00:00:00.896 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 00:00:01.229 +01:00 [INF] Request finished in 333.1106ms 200 application/json;charset=utf-8
2020-11-21 00:00:06.583 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json 185
2020-11-21 00:00:06.596 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 00:00:07.346 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 00:00:07.395 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 00:00:08.367 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-11-21 00:00:08.416 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 1012.0293ms
2020-11-21 00:00:08.427 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 00:00:08.429 +01:00 [INF] Request finished in 1847.9157ms 400 application/problem+json; charset=utf-8
2020-11-21 00:00:32.213 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json 185
2020-11-21 00:00:32.215 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 00:00:32.227 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 00:00:32.227 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 00:00:32.285 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-11-21 00:00:32.286 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 58.5201ms
2020-11-21 00:00:32.286 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 00:00:32.286 +01:00 [INF] Request finished in 74.8381ms 400 application/problem+json; charset=utf-8
2020-11-21 00:00:33.201 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json 185
2020-11-21 00:00:33.203 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 00:00:33.208 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 00:00:33.209 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 00:00:33.213 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-11-21 00:00:33.214 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 4.786ms
2020-11-21 00:00:33.214 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 00:00:33.214 +01:00 [INF] Request finished in 13.7981ms 400 application/problem+json; charset=utf-8
2020-11-21 00:00:33.726 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json 185
2020-11-21 00:00:33.726 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 00:00:33.727 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 00:00:33.727 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 00:00:33.735 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-11-21 00:00:33.736 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 8.8116ms
2020-11-21 00:00:33.737 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 00:00:33.737 +01:00 [INF] Request finished in 11.4763ms 400 application/problem+json; charset=utf-8
2020-11-21 11:59:35.270 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 11:59:35.852 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 11:59:35.868 +01:00 [INF] Hosting environment: Development
2020-11-21 11:59:35.883 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 11:59:35.917 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 11:59:36.001 +01:00 [INF] Request finished in 87.6429ms 200 text/html;charset=utf-8
2020-11-21 11:59:36.196 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 11:59:36.300 +01:00 [INF] Request finished in 104.6024ms 200 application/json;charset=utf-8
2020-11-21 12:00:21.515 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json 182
2020-11-21 12:00:21.520 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:00:21.876 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:00:21.916 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:00:22.688 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:00:23.593 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:00:24.103 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1407.1773ms.
2020-11-21 12:00:24.107 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:00:24.173 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 2252.1123ms
2020-11-21 12:00:24.180 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:00:24.268 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.Text.Json.JsonException: A possible object cycle was detected which is not supported. This can either be due to a cycle or if the object depth is larger than the maximum allowed depth of 32.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_SerializerCycleDetected(Int32 maxDepth)
   at System.Text.Json.JsonSerializer.Write(Utf8JsonWriter writer, Int32 originalWriterDepth, Int32 flushThreshold, JsonSerializerOptions options, WriteStack& state)
   at System.Text.Json.JsonSerializer.WriteAsyncCore(Stream utf8Json, Object value, Type inputType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:00:24.300 +01:00 [INF] Request finished in 2785.7674ms 500 text/plain
2020-11-21 12:00:24.325 +01:00 [ERR] An error occurred using the connection to database 'CurriculumDatabase' on server '(localdb)\mssqllocaldb'.
2020-11-21 12:00:24.346 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-21 12:10:54.997 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 12:10:55.431 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 12:10:55.434 +01:00 [INF] Hosting environment: Development
2020-11-21 12:10:55.438 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 12:10:55.466 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 12:10:55.538 +01:00 [INF] Request finished in 75.3061ms 200 text/html;charset=utf-8
2020-11-21 12:10:55.733 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 12:10:55.840 +01:00 [INF] Request finished in 106.7939ms 200 application/json;charset=utf-8
2020-11-21 12:11:41.801 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:11:41.807 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:11:41.907 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:11:41.951 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:11:42.594 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:11:43.454 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:11:43.767 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1159.5898ms.
2020-11-21 12:11:43.772 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:11:44.165 +01:00 [INF] Executed DbCommand (154ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:11:44.211 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:11:44.281 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 12:11:53.114 +01:00 [ERR] Failed executing DbCommand (55ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 12:11:53.156 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-21 12:11:53.300 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 11340.4694ms
2020-11-21 12:11:53.301 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:11:53.349 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (An error occurred while updating the entries. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 87
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:11:53.373 +01:00 [INF] Request finished in 11580.6104ms 500 text/plain
2020-11-21 12:13:24.209 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:13:24.210 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:13:24.220 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:13:24.221 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:13:24.257 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:13:24.285 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:13:24.290 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.8052ms.
2020-11-21 12:13:24.291 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:13:24.293 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:13:24.303 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:13:24.311 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 12:13:24.320 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 12:13:24.335 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-21 12:13:24.453 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 232.1681ms
2020-11-21 12:13:24.454 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:13:24.465 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (An error occurred while updating the entries. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 87
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:13:24.487 +01:00 [INF] Request finished in 307.6507ms 500 text/plain
2020-11-21 12:13:25.690 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:13:25.690 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:13:25.693 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:13:25.694 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:13:25.726 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:13:25.734 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:13:25.737 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10.0667ms.
2020-11-21 12:13:25.737 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:13:25.737 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:13:25.738 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:13:25.741 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 12:13:25.751 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 12:13:25.767 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-21 12:13:25.893 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 198.3016ms
2020-11-21 12:13:25.893 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:13:25.905 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (An error occurred while updating the entries. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 87
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:13:25.911 +01:00 [INF] Request finished in 221.4674ms 500 text/plain
2020-11-21 12:13:26.820 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:13:26.820 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:13:26.821 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:13:26.821 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:13:26.847 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:13:26.848 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:13:26.852 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.5417ms.
2020-11-21 12:13:26.852 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:13:26.853 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:13:26.857 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:13:26.863 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 12:13:26.870 +01:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 12:13:26.892 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-21 12:13:27.009 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 187.8702ms
2020-11-21 12:13:27.010 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:13:27.022 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (An error occurred while updating the entries. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 87
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:13:27.028 +01:00 [INF] Request finished in 209.0919ms 500 text/plain
2020-11-21 12:14:45.581 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 159
2020-11-21 12:14:45.582 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:14:45.583 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:14:45.591 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:14:45.615 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:14:45.616 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:14:45.618 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2.9014ms.
2020-11-21 12:14:45.618 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:14:45.624 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:14:45.637 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:14:45.653 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 12:14:45.683 +01:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 12:14:45.739 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-21 12:14:45.875 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 283.5996ms
2020-11-21 12:14:45.875 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:14:45.889 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (An error occurred while updating the entries. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 87
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:14:45.910 +01:00 [INF] Request finished in 328.5867ms 500 text/plain
2020-11-21 12:15:57.474 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 159
2020-11-21 12:15:57.474 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:15:57.477 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:15:57.477 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:15:57.510 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:15:57.511 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:15:57.514 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.2792ms.
2020-11-21 12:15:57.515 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:15:57.524 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:15:57.545 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:15:57.551 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 12:16:13.228 +01:00 [ERR] Failed executing DbCommand (22ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 12:16:13.248 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2020-11-21 12:16:13.378 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 15900.8211ms
2020-11-21 12:16:13.379 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:16:13.392 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (An error occurred while updating the entries. See the inner exception for details.)
 ---> Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> System.Data.SqlTypes.SqlTypeException: SqlDateTime overflow. Must be between 1/1/1753 12:00:00 AM and 12/31/9999 11:59:59 PM.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__169_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 87
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:16:13.397 +01:00 [INF] Request finished in 15923.9005ms 500 text/plain
2020-11-21 12:17:04.823 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 12:17:05.157 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 12:17:05.160 +01:00 [INF] Hosting environment: Development
2020-11-21 12:17:05.161 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 12:17:05.186 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 12:17:05.260 +01:00 [INF] Request finished in 81.3188ms 200 text/html;charset=utf-8
2020-11-21 12:17:05.449 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 12:17:05.547 +01:00 [INF] Request finished in 97.8184ms 200 application/json;charset=utf-8
2020-11-21 12:17:10.777 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:17:10.785 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:17:10.875 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:17:10.910 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:17:12.326 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:17:12.682 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:17:13.047 +01:00 [INF] Executed DbCommand (109ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:17:13.086 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:17:13.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 12:17:50.491 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 12:17:50.590 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 39674.1309ms
2020-11-21 12:17:50.591 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:17:50.595 +01:00 [INF] Request finished in 39821.0603ms 200 application/json; charset=utf-8
2020-11-21 12:36:07.508 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:36:07.508 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:36:07.521 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:36:07.540 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:36:07.579 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:36:07.597 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:36:07.618 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:36:07.888 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 348.45ms
2020-11-21 12:36:07.889 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:36:07.961 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (A user with username dfabijanic already exists.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: A user with username dfabijanic already exists.
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 73
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:36:07.978 +01:00 [INF] Request finished in 478.0222ms 500 text/plain
2020-11-21 12:36:12.740 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:36:12.741 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:36:12.744 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:36:12.745 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:36:12.760 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:36:12.764 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:36:12.764 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:36:12.884 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 138.7673ms
2020-11-21 12:36:12.885 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:36:12.891 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (A user with username dfabijanic already exists.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: A user with username dfabijanic already exists.
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 73
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:36:12.895 +01:00 [INF] Request finished in 155.5976ms 500 text/plain
2020-11-21 12:36:16.021 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:36:16.021 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:36:16.022 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:36:16.023 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:36:16.029 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:36:16.031 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:36:16.032 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:36:16.190 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 166.96ms
2020-11-21 12:36:16.190 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:36:16.201 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (A user with username dfabijanic already exists.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: A user with username dfabijanic already exists.
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 73
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:36:16.205 +01:00 [INF] Request finished in 186.6724ms 500 text/plain
2020-11-21 12:36:26.235 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:36:26.236 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:36:26.236 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:36:26.237 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:36:26.249 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:36:26.253 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:36:26.254 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:36:26.389 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 151.387ms
2020-11-21 12:36:26.389 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:36:26.396 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (A user with username dfabijanic already exists.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: A user with username dfabijanic already exists.
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 73
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:36:26.400 +01:00 [INF] Request finished in 164.6707ms 500 text/plain
2020-11-21 12:37:30.291 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 12:37:30.696 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 12:37:30.699 +01:00 [INF] Hosting environment: Development
2020-11-21 12:37:30.701 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 12:37:30.733 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 12:37:30.805 +01:00 [INF] Request finished in 75.814ms 200 text/html;charset=utf-8
2020-11-21 12:37:31.011 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 12:37:31.112 +01:00 [INF] Request finished in 101.5887ms 200 application/json;charset=utf-8
2020-11-21 12:37:37.629 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:37:37.639 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:37:37.746 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:37:37.782 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:37:38.323 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:37:39.215 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:37:39.562 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1226.5154ms.
2020-11-21 12:37:39.567 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:37:39.852 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:37:39.972 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 2185.5423ms
2020-11-21 12:37:39.973 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:37:40.028 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (A user with username dfabijanic already exists.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: A user with username dfabijanic already exists.
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 73
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:37:40.053 +01:00 [INF] Request finished in 2425.8477ms 500 text/plain
2020-11-21 12:37:49.927 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:37:49.927 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:37:49.929 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:37:49.931 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:37:49.958 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:37:49.988 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:37:49.995 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.7433ms.
2020-11-21 12:37:49.996 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:37:49.997 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:37:50.128 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 197.1396ms
2020-11-21 12:37:50.129 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:37:50.140 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (A user with username dfabijanic already exists.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: A user with username dfabijanic already exists.
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 73
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:37:50.144 +01:00 [INF] Request finished in 217.9867ms 500 text/plain
2020-11-21 12:37:55.273 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:37:55.274 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:37:55.278 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:37:55.279 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:37:55.310 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:38:16.801 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:38:16.805 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21494.8373ms.
2020-11-21 12:38:16.806 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-11-21 12:38:16.815 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:38:16.990 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 21710.6394ms
2020-11-21 12:38:16.991 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:38:17.003 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,System.Runtime.CompilerServices.IAsyncStateMachine]'.
 ---> System.AggregateException: One or more errors occurred. (A user with username dfabijanic already exists.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: A user with username dfabijanic already exists.
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 73
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:38:17.009 +01:00 [INF] Request finished in 21735.7013ms 500 text/plain
2020-11-21 12:38:36.142 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 181
2020-11-21 12:38:36.142 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:38:36.143 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:38:36.144 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:38:36.169 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:38:38.208 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:38:38.212 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2043.2597ms.
2020-11-21 12:38:38.213 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:38:38.213 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:38:38.391 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 2247.0552ms
2020-11-21 12:38:38.391 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:38:38.398 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.API.Models.User,CurriculumRepository.API.Services.AccountService+<Create>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (A user with username dfabijanic already exists.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: A user with username dfabijanic already exists.
   at CurriculumRepository.API.Services.AccountService.Create(RegisterUserBM model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 73
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:38:38.402 +01:00 [INF] Request finished in 2260.1658ms 500 text/plain
2020-11-21 12:39:36.745 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 180
2020-11-21 12:39:36.754 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:39:36.754 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:39:36.755 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:39:36.778 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:39:39.244 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:39:39.257 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2478.062ms.
2020-11-21 12:39:39.257 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 12:39:39.257 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:39:40.629 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 12:39:41.274 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 12:39:43.693 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 12:39:43.772 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 7017.1916ms
2020-11-21 12:39:43.773 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 12:39:43.775 +01:00 [INF] Request finished in 7033.4623ms 200 application/json; charset=utf-8
2020-11-21 12:41:10.809 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 51
2020-11-21 12:41:10.810 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:41:10.811 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 12:41:10.843 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:41:10.868 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:42:08.321 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 12:42:08.647 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 12:42:08.650 +01:00 [INF] Hosting environment: Development
2020-11-21 12:42:08.651 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 12:42:08.671 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 12:42:08.738 +01:00 [INF] Request finished in 72.552ms 200 text/html;charset=utf-8
2020-11-21 12:42:08.943 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 12:42:09.030 +01:00 [INF] Request finished in 87.0783ms 200 application/json;charset=utf-8
2020-11-21 12:42:24.177 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 51
2020-11-21 12:42:24.185 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:42:24.284 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 12:42:24.315 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:42:25.624 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:42:39.099 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 14777.9018ms
2020-11-21 12:42:39.102 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 12:42:39.163 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Controllers.AccountController.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 37
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeNextActionFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:42:39.184 +01:00 [INF] Request finished in 15009.0231ms 500 text/plain
2020-11-21 12:42:39.196 +01:00 [ERR] An error occurred using the connection to database 'CurriculumDatabase' on server '(localdb)\mssqllocaldb'.
2020-11-21 12:42:39.225 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-21 12:43:08.789 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/favicon-32x32.png  
2020-11-21 12:43:08.831 +01:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2020-11-21 12:43:08.831 +01:00 [INF] Request finished in 42.5531ms 200 image/png
2020-11-21 12:43:10.820 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 12:43:10.838 +01:00 [INF] Request finished in 18.3635ms 200 text/html;charset=utf-8
2020-11-21 12:43:11.435 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 12:43:11.446 +01:00 [INF] Request finished in 12.0137ms 200 application/json;charset=utf-8
2020-11-21 12:47:38.209 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 12:47:38.627 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 12:47:38.630 +01:00 [INF] Hosting environment: Development
2020-11-21 12:47:38.633 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 12:47:38.659 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 12:47:38.728 +01:00 [INF] Request finished in 72.8865ms 200 text/html;charset=utf-8
2020-11-21 12:47:38.900 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 12:47:38.998 +01:00 [INF] Request finished in 97.7157ms 200 application/json;charset=utf-8
2020-11-21 12:47:53.271 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 50
2020-11-21 12:47:53.278 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:47:53.383 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 12:47:53.418 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:47:53.958 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:47:54.809 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:48:29.616 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 36194.2317ms
2020-11-21 12:48:29.621 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 12:48:29.682 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Controllers.AccountController.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 37
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:48:29.714 +01:00 [INF] Request finished in 36445.7614ms 500 text/plain
2020-11-21 12:48:29.730 +01:00 [ERR] An error occurred using the connection to database 'CurriculumDatabase' on server '(localdb)\mssqllocaldb'.
2020-11-21 12:48:29.755 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-21 12:48:31.844 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 50
2020-11-21 12:48:31.845 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 12:48:31.848 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 12:48:31.849 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 12:48:31.883 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 12:48:31.910 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 12:48:44.518 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 12669.3048ms
2020-11-21 12:48:44.519 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 12:48:44.528 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Controllers.AccountController.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 37
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 12:48:44.540 +01:00 [INF] Request finished in 12696.8618ms 500 text/plain
2020-11-21 12:48:44.549 +01:00 [INF] Executed DbCommand (12,619ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 12:48:44.581 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.ObjectDisposedException: Cannot access a disposed context instance. A common cause of this error is disposing a context instance that was resolved from dependency injection and then later trying to use the same context instance elsewhere in your application. This may occur if you are calling 'Dispose' on the context instance, or wrapping it in a using statement. If you are using dependency injection, you should let the dependency injection container take care of disposing context instances.
Object name: 'CurriculumDatabaseContext'.
   at Microsoft.EntityFrameworkCore.DbContext.CheckDisposed()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Query.QueryContext.InitializeStateManager(Boolean standAlone)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-21 13:01:41.608 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 13:01:41.939 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 13:01:41.941 +01:00 [INF] Hosting environment: Development
2020-11-21 13:01:41.943 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 13:01:41.961 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 13:01:42.027 +01:00 [INF] Request finished in 68.9049ms 200 text/html;charset=utf-8
2020-11-21 13:01:42.209 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 13:01:42.347 +01:00 [INF] Request finished in 138.5528ms 200 application/json;charset=utf-8
2020-11-21 13:02:29.586 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 50
2020-11-21 13:02:29.592 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:02:29.687 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:02:29.725 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:02:31.091 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:02:31.441 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:02:31.747 +01:00 [INF] Executed DbCommand (66ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:02:41.522 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 50
2020-11-21 13:02:41.523 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:02:41.552 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:02:41.552 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:02:41.567 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 11837.1148ms
2020-11-21 13:02:41.568 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:02:41.588 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:02:41.609 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:02:41.615 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:02:43.461 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at CurriculumRepository.API.Services.AccountService.VerifyPasswordHash(String password, Byte[] storedHash, Byte[] storedSalt) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 198
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 59
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:02:43.494 +01:00 [INF] Request finished in 13916.72ms 500 text/plain
2020-11-21 13:02:43.522 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 1969.8189ms
2020-11-21 13:02:43.523 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:02:43.533 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at CurriculumRepository.API.Services.AccountService.VerifyPasswordHash(String password, Byte[] storedHash, Byte[] storedSalt) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 198
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 59
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:02:43.542 +01:00 [INF] Request finished in 2020.0373ms 500 text/plain
2020-11-21 13:02:48.318 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 51
2020-11-21 13:02:48.319 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:02:48.325 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:02:48.326 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:02:48.342 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:02:48.346 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:02:48.347 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:02:52.784 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 4457.0983ms
2020-11-21 13:02:52.784 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:02:52.793 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at CurriculumRepository.API.Services.AccountService.VerifyPasswordHash(String password, Byte[] storedHash, Byte[] storedSalt) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 198
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 59
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:02:52.800 +01:00 [INF] Request finished in 4482.1473ms 500 text/plain
2020-11-21 13:03:15.701 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 51
2020-11-21 13:03:15.702 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:03:15.711 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:03:15.711 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:03:15.716 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:03:15.721 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:03:15.729 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:03:26.884 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 11172.2153ms
2020-11-21 13:03:26.885 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:03:26.892 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at CurriculumRepository.API.Services.AccountService.VerifyPasswordHash(String password, Byte[] storedHash, Byte[] storedSalt) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 198
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 59
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:03:26.896 +01:00 [INF] Request finished in 11195.407ms 500 text/plain
2020-11-21 13:05:47.704 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 153
2020-11-21 13:05:47.705 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:05:47.706 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 13:05:47.712 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:05:47.739 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:05:47.755 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 13:05:47.792 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__6, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:05:47.796 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 13:05:47.809 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 13:07:24.641 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 13:07:24.986 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 13:07:24.989 +01:00 [INF] Hosting environment: Development
2020-11-21 13:07:24.990 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 13:07:25.016 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 13:07:25.099 +01:00 [INF] Request finished in 86.5608ms 200 text/html;charset=utf-8
2020-11-21 13:07:25.326 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 13:07:25.428 +01:00 [INF] Request finished in 102.7597ms 200 application/json;charset=utf-8
2020-11-21 13:08:54.708 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/register application/json-patch+json 156
2020-11-21 13:08:54.713 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:08:54.814 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 13:08:54.856 +01:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Register(CurriculumRepository.CORE.Data.Models.RegisterUserBM) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:08:55.419 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:08:56.246 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:08:56.543 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1108.3451ms.
2020-11-21 13:08:56.547 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.API.Models.User, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Create>d__6, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:08:56.818 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Username] = @__model_Username_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 13:08:56.850 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__model_Email_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [User] AS [u]
        WHERE [u].[Email] = @__model_Email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-11-21 13:08:56.888 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__model_Role_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[UserTypeName] = @__model_Role_0
2020-11-21 13:08:57.099 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50), @p1='?' (Size = 50), @p2='?' (Size = 50), @p3='?' (Size = 8000) (DbType = Binary), @p4='?' (Size = 8000) (DbType = Binary), @p5='?' (Size = 8000) (DbType = Binary), @p6='?' (DbType = DateTime), @p7='?' (DbType = Int32), @p8='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [User] ([Email], [Firstname], [Lastname], [PasswordHash], [PasswordSalt], [ProfilePicture], [RegistrationDate], [UserTypeID], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT [IDUser]
FROM [User]
WHERE @@ROWCOUNT = 1 AND [IDUser] = scope_identity();
2020-11-21 13:08:57.167 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API) in 2303.6524ms
2020-11-21 13:08:57.167 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Register (CurriculumRepository.API)'
2020-11-21 13:08:57.172 +01:00 [INF] Request finished in 2464.994ms 200 application/json; charset=utf-8
2020-11-21 13:09:24.960 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 13:09:24.961 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:09:24.971 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:09:24.974 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:09:24.998 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:09:25.036 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:09:25.043 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 45.0931ms.
2020-11-21 13:09:25.044 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:09:25.049 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:09:25.271 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 296.6805ms
2020-11-21 13:09:25.271 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:09:25.334 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (String reference not set to an instance of a String. (Parameter 's'))
 ---> System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 65
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:09:25.351 +01:00 [INF] Request finished in 390.9351ms 500 text/plain
2020-11-21 13:09:40.762 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 13:09:40.763 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:09:40.765 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:09:40.766 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:09:40.788 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:09:40.798 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:09:40.803 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.7236ms.
2020-11-21 13:09:40.803 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:09:40.803 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:09:41.016 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 249.647ms
2020-11-21 13:09:41.017 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:09:41.029 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (String reference not set to an instance of a String. (Parameter 's'))
 ---> System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 65
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:09:41.035 +01:00 [INF] Request finished in 272.4457ms 500 text/plain
2020-11-21 13:09:42.012 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 13:09:42.012 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:09:42.013 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:09:42.015 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:09:42.050 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:09:42.052 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:09:42.055 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4.0141ms.
2020-11-21 13:09:42.055 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:09:42.055 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:09:42.233 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 217.5486ms
2020-11-21 13:09:42.233 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:09:42.246 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (String reference not set to an instance of a String. (Parameter 's'))
 ---> System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 65
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:09:42.250 +01:00 [INF] Request finished in 238.6801ms 500 text/plain
2020-11-21 13:10:53.258 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 13:10:53.259 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:10:53.259 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:10:53.260 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:10:53.319 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:10:53.331 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:10:53.334 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14.3077ms.
2020-11-21 13:10:53.334 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:10:53.334 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:10:53.515 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 254.7633ms
2020-11-21 13:10:53.516 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:10:53.525 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (String reference not set to an instance of a String. (Parameter 's'))
 ---> System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 65
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:10:53.537 +01:00 [INF] Request finished in 285.6698ms 500 text/plain
2020-11-21 13:11:13.294 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 13:11:13.639 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 13:11:13.642 +01:00 [INF] Hosting environment: Development
2020-11-21 13:11:13.643 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 13:11:13.669 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 13:11:13.745 +01:00 [INF] Request finished in 79.8295ms 200 text/html;charset=utf-8
2020-11-21 13:11:13.932 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 13:11:14.044 +01:00 [INF] Request finished in 112.4596ms 200 application/json;charset=utf-8
2020-11-21 13:11:18.290 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 13:11:18.297 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:11:18.393 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:11:18.431 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:11:18.985 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:11:19.848 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:11:20.184 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1190.6327ms.
2020-11-21 13:11:20.189 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:11:20.513 +01:00 [INF] Executed DbCommand (69ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:11:20.734 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2298.3521ms
2020-11-21 13:11:20.734 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:11:20.787 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (String reference not set to an instance of a String. (Parameter 's'))
 ---> System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 65
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:11:20.811 +01:00 [INF] Request finished in 2523.1429ms 500 text/plain
2020-11-21 13:11:36.787 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 13:11:36.789 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:11:36.791 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:11:36.791 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:11:36.815 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:11:42.120 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:11:42.127 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5311.6157ms.
2020-11-21 13:11:42.128 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:11:42.128 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:12:18.596 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 41804.8536ms
2020-11-21 13:12:18.597 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:12:18.606 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (String reference not set to an instance of a String. (Parameter 's'))
 ---> System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 65
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:12:18.612 +01:00 [INF] Request finished in 41827.2093ms 500 text/plain
2020-11-21 13:12:41.290 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 13:12:41.292 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:12:41.295 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:12:41.295 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:12:41.318 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:12:41.336 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:12:41.340 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21.3617ms.
2020-11-21 13:12:41.340 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:12:41.340 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 13:12:43.969 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2673.2899ms
2020-11-21 13:12:43.969 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:12:43.976 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (String reference not set to an instance of a String. (Parameter 's'))
 ---> System.ArgumentNullException: String reference not set to an instance of a String. (Parameter 's')
   at System.Text.Encoding.GetBytes(String s)
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 65
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 13:12:43.980 +01:00 [INF] Request finished in 2689.7454ms 500 text/plain
2020-11-21 13:16:31.255 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 13:16:31.583 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 13:16:31.585 +01:00 [INF] Hosting environment: Development
2020-11-21 13:16:31.587 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 13:16:31.623 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 13:16:31.696 +01:00 [INF] Request finished in 78.7644ms 200 text/html;charset=utf-8
2020-11-21 13:16:31.887 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 13:16:31.985 +01:00 [INF] Request finished in 98.7831ms 200 application/json;charset=utf-8
2020-11-21 13:16:40.669 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 13:16:40.675 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 13:16:40.777 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 13:16:40.809 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 13:16:41.381 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 13:16:42.265 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 13:16:42.632 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1243.4753ms.
2020-11-21 13:16:42.636 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 13:16:42.909 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 14:06:42.967 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 14:06:43.460 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 14:06:43.467 +01:00 [INF] Hosting environment: Development
2020-11-21 14:06:43.469 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 14:06:43.496 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 14:06:43.591 +01:00 [INF] Request finished in 99.4587ms 200 text/html;charset=utf-8
2020-11-21 14:06:43.785 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 14:06:43.900 +01:00 [INF] Request finished in 114.99ms 200 application/json;charset=utf-8
2020-11-21 14:07:03.747 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 14:07:03.754 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 14:07:03.859 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 14:07:03.899 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 14:07:04.505 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 14:07:05.388 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 14:07:05.742 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1221.1052ms.
2020-11-21 14:07:05.747 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 14:07:06.046 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 14:07:22.181 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 18277.791ms
2020-11-21 14:07:22.183 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 14:07:22.246 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at CurriculumRepository.API.Services.AccountService.CreateToken(User user) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 215
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 68
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 14:07:22.265 +01:00 [INF] Request finished in 18519.8724ms 500 text/plain
2020-11-21 14:10:22.905 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 14:10:23.265 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 14:10:23.271 +01:00 [INF] Hosting environment: Development
2020-11-21 14:10:23.282 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 14:10:23.306 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 14:10:23.377 +01:00 [INF] Request finished in 75.5126ms 200 text/html;charset=utf-8
2020-11-21 14:10:23.581 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 14:10:23.690 +01:00 [INF] Request finished in 109.8862ms 200 application/json;charset=utf-8
2020-11-21 14:10:42.349 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 45
2020-11-21 14:10:42.356 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 14:10:42.448 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 14:10:42.490 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 14:10:43.103 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 14:10:43.995 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 14:10:44.361 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1243.3367ms.
2020-11-21 14:10:44.366 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 14:10:44.721 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 14:10:44.849 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2353.7538ms
2020-11-21 14:10:44.850 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 14:10:44.931 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (Username or password are incorrect.)
 ---> HotelApp.API.Extensions.Exceptions.BadRequestException: Username or password are incorrect.
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 63
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 14:10:44.948 +01:00 [INF] Request finished in 2600.8165ms 500 text/plain
2020-11-21 14:11:57.417 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 14:11:57.824 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 14:11:57.827 +01:00 [INF] Hosting environment: Development
2020-11-21 14:11:57.829 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 14:11:57.860 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 14:11:57.961 +01:00 [INF] Request finished in 105.5023ms 200 text/html;charset=utf-8
2020-11-21 14:11:58.168 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 14:11:58.262 +01:00 [INF] Request finished in 94.2004ms 200 application/json;charset=utf-8
2020-11-21 14:12:08.482 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 14:12:08.489 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 14:12:08.590 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 14:12:08.622 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 14:12:08.998 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 14:12:08.998 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 14:12:09.000 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 14:12:09.000 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 14:12:09.162 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 14:12:09.162 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 14:12:18.518 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 14:12:18.518 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 14:12:18.961 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9790.4203ms.
2020-11-21 14:12:18.961 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 9790.4968ms.
2020-11-21 14:12:18.967 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-11-21 14:12:18.967 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.Runtime.CompilerServices.IAsyncStateMachine, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2020-11-21 14:12:19.321 +01:00 [INF] Executed DbCommand (73ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 14:12:19.321 +01:00 [INF] Executed DbCommand (73ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:08:25.173 +01:00 [INF] Executed DbCommand (3,344,653ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:08:36.910 +01:00 [INF] Executed DbCommand (3,356,390ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:08:38.381 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 15:08:38.381 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:08:38.383 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:08:38.383 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:08:42.620 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:08:43.406 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 3394779.7126ms
2020-11-21 15:08:43.406 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 3394401.8987ms
2020-11-21 15:08:43.408 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:08:43.408 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:08:43.459 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:08:43.461 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 840.32ms.
2020-11-21 15:08:43.461 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 15:08:43.468 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:08:43.477 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:08:44.515 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,System.Runtime.CompilerServices.IAsyncStateMachine]'.
 ---> System.AggregateException: One or more errors occurred. (One or more errors occurred. (Object reference not set to an instance of an object.))
 ---> System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at CurriculumRepository.API.Services.AccountService.CreateTokenAsync(User user) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 219
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 71
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 15:08:44.515 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,System.Runtime.CompilerServices.IAsyncStateMachine]'.
 ---> System.AggregateException: One or more errors occurred. (One or more errors occurred. (Object reference not set to an instance of an object.))
 ---> System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at CurriculumRepository.API.Services.AccountService.CreateTokenAsync(User user) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 219
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 71
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 15:08:44.556 +01:00 [INF] Request finished in 3396075.7108ms 500 text/plain
2020-11-21 15:08:44.556 +01:00 [INF] Request finished in 3395558.2658ms 500 text/plain
2020-11-21 15:08:44.736 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 6352.8936ms
2020-11-21 15:08:44.737 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:08:44.753 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Newtonsoft.Json.JsonSerializationException: Error getting value from 'Result' on 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO,CurriculumRepository.API.Services.AccountService+<Authenticate>d__5]'.
 ---> System.AggregateException: One or more errors occurred. (One or more errors occurred. (Object reference not set to an instance of an object.))
 ---> System.AggregateException: One or more errors occurred. (Object reference not set to an instance of an object.)
 ---> System.NullReferenceException: Object reference not set to an instance of an object.
   at CurriculumRepository.API.Services.AccountService.CreateTokenAsync(User user) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 219
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at CurriculumRepository.API.Services.AccountService.Authenticate(AuthenticateUserDTO model) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Services\AccountService.cs:line 71
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at System.Threading.Tasks.Task`1.get_Result()
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   --- End of inner exception stack trace ---
   at Newtonsoft.Json.Serialization.ExpressionValueProvider.GetValue(Object target)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.CalculatePropertyValues(JsonWriter writer, Object value, JsonContainerContract contract, JsonProperty member, JsonProperty property, JsonContract& memberContract, Object& memberValue)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|21_0(ResourceInvoker invoker, IActionResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|29_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 15:08:44.757 +01:00 [INF] Request finished in 6375.8181ms 500 text/plain
2020-11-21 15:11:23.794 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 15:11:24.195 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 15:11:24.198 +01:00 [INF] Hosting environment: Development
2020-11-21 15:11:24.201 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 15:11:24.225 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 15:11:24.302 +01:00 [INF] Request finished in 80.8194ms 200 text/html;charset=utf-8
2020-11-21 15:11:24.518 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 15:11:24.622 +01:00 [INF] Request finished in 104.4776ms 200 application/json;charset=utf-8
2020-11-21 15:11:41.115 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 15:11:41.123 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:11:41.232 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:11:41.269 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:11:41.864 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:11:45.845 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:11:46.242 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4361.338ms.
2020-11-21 15:11:46.247 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 15:11:46.547 +01:00 [INF] Executed DbCommand (63ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:11:46.703 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:11:47.294 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 6018.6224ms
2020-11-21 15:11:47.296 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:11:47.302 +01:00 [INF] Request finished in 6189.4785ms 200 application/json; charset=utf-8
2020-11-21 15:16:09.550 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/158  
2020-11-21 15:16:09.551 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:16:09.629 +01:00 [INF] Successfully validated the token.
2020-11-21 15:16:09.637 +01:00 [INF] Authorization was successful.
2020-11-21 15:16:09.638 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:16:09.641 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:16:09.661 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:16:09.693 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:16:09.705 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-21 15:16:09.739 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 47.7659ms.
2020-11-21 15:16:09.740 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-21 15:16:09.741 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 99.6911ms
2020-11-21 15:16:09.741 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:16:09.742 +01:00 [INF] Request finished in 200.6687ms 200 application/json; charset=utf-8
2020-11-21 15:21:49.407 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 15:21:49.738 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 15:21:49.740 +01:00 [INF] Hosting environment: Development
2020-11-21 15:21:49.742 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 15:21:49.767 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 15:21:49.854 +01:00 [INF] Request finished in 90.3274ms 200 text/html;charset=utf-8
2020-11-21 15:21:50.059 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 15:21:50.162 +01:00 [INF] Request finished in 103.3811ms 200 application/json;charset=utf-8
2020-11-21 15:22:06.774 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 15:22:06.784 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:22:06.908 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:22:06.944 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:22:07.621 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:22:08.607 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:22:09.041 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1404.1456ms.
2020-11-21 15:22:09.048 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__5, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 15:22:09.531 +01:00 [INF] Executed DbCommand (110ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:22:09.702 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:22:09.817 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2867.8949ms
2020-11-21 15:22:09.818 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:22:09.823 +01:00 [INF] Request finished in 3051.2295ms 200 application/json; charset=utf-8
2020-11-21 15:38:15.412 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 15:38:15.783 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 15:38:15.786 +01:00 [INF] Hosting environment: Development
2020-11-21 15:38:15.787 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 15:38:15.817 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 15:38:15.877 +01:00 [INF] Request finished in 63.7876ms 200 text/html;charset=utf-8
2020-11-21 15:38:16.086 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 15:38:16.190 +01:00 [INF] Request finished in 104.0253ms 200 application/json;charset=utf-8
2020-11-21 15:38:32.386 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 15:38:32.392 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:38:32.483 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:38:32.520 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:38:33.090 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:38:33.984 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:38:34.335 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1236.7786ms.
2020-11-21 15:38:34.339 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__6, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 15:38:34.678 +01:00 [INF] Executed DbCommand (74ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:38:34.810 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:38:34.894 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2368.9896ms
2020-11-21 15:38:34.894 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:38:34.899 +01:00 [INF] Request finished in 2517.0112ms 200 application/json; charset=utf-8
2020-11-21 15:40:23.745 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/159?id=159  
2020-11-21 15:40:23.746 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:40:23.801 +01:00 [INF] Successfully validated the token.
2020-11-21 15:40:23.807 +01:00 [INF] Authorization was successful.
2020-11-21 15:40:23.807 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:40:23.811 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:40:23.838 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:40:23.867 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:40:23.875 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 35.9808ms.
2020-11-21 15:40:23.875 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-21 15:40:23.876 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-21 15:40:23.883 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 72.2629ms
2020-11-21 15:40:23.883 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:40:23.886 +01:00 [INF] Request finished in 141.0942ms 200 application/json; charset=utf-8
2020-11-21 15:40:23.971 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-21 15:41:24.001 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 15:41:24.390 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 15:41:24.393 +01:00 [INF] Hosting environment: Development
2020-11-21 15:41:24.394 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 15:41:24.421 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 15:41:24.497 +01:00 [INF] Request finished in 79.7769ms 200 text/html;charset=utf-8
2020-11-21 15:41:24.702 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 15:41:24.800 +01:00 [INF] Request finished in 97.7907ms 200 application/json;charset=utf-8
2020-11-21 15:41:42.113 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 15:41:42.120 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:41:42.213 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:41:42.263 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:41:42.818 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:41:43.664 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:41:44.009 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1177.2295ms.
2020-11-21 15:41:44.013 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__6, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 15:41:44.295 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:41:44.425 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:41:44.503 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2235.0356ms
2020-11-21 15:41:44.503 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:41:44.508 +01:00 [INF] Request finished in 2396.6495ms 200 application/json; charset=utf-8
2020-11-21 15:42:40.910 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/159  
2020-11-21 15:42:40.910 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:42:40.966 +01:00 [INF] Successfully validated the token.
2020-11-21 15:42:40.973 +01:00 [INF] Authorization was successful.
2020-11-21 15:42:40.974 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:42:40.976 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:42:40.998 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:42:41.028 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:42:41.035 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36.5759ms.
2020-11-21 15:42:41.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-21 15:42:41.036 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-21 15:44:06.841 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 15:44:07.220 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 15:44:07.223 +01:00 [INF] Hosting environment: Development
2020-11-21 15:44:07.224 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 15:44:07.252 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 15:44:07.331 +01:00 [INF] Request finished in 82.7507ms 200 text/html;charset=utf-8
2020-11-21 15:44:07.528 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 15:44:07.621 +01:00 [INF] Request finished in 94.2373ms 200 application/json;charset=utf-8
2020-11-21 15:44:19.609 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 15:44:19.616 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:44:19.715 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:44:19.748 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:44:20.346 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:44:21.273 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:44:21.633 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1273.7119ms.
2020-11-21 15:44:21.638 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__6, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 15:44:22.025 +01:00 [INF] Executed DbCommand (58ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:44:22.155 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:44:22.230 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2477.3597ms
2020-11-21 15:44:22.231 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:44:22.237 +01:00 [INF] Request finished in 2631.7061ms 200 application/json; charset=utf-8
2020-11-21 15:47:00.996 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/159  
2020-11-21 15:47:00.996 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:47:01.049 +01:00 [INF] Successfully validated the token.
2020-11-21 15:47:01.055 +01:00 [INF] Authorization was successful.
2020-11-21 15:47:01.056 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:47:01.058 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:47:01.079 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:51:58.580 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 15:51:59.077 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 15:51:59.080 +01:00 [INF] Hosting environment: Development
2020-11-21 15:51:59.082 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 15:51:59.110 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 15:51:59.196 +01:00 [INF] Request finished in 90.2281ms 200 text/html;charset=utf-8
2020-11-21 15:51:59.389 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 15:51:59.505 +01:00 [INF] Request finished in 116.7601ms 200 application/json;charset=utf-8
2020-11-21 15:52:39.865 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 15:52:39.870 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:52:39.969 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:52:40.008 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:52:40.531 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:52:41.530 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:52:42.594 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2040.1847ms.
2020-11-21 15:52:42.599 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__6, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 15:52:42.900 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:52:43.023 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:52:43.101 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 3088.9641ms
2020-11-21 15:52:43.102 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:52:43.107 +01:00 [INF] Request finished in 3244.6463ms 200 application/json; charset=utf-8
2020-11-21 15:55:39.881 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/159  
2020-11-21 15:55:39.882 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:55:39.922 +01:00 [INF] Successfully validated the token.
2020-11-21 15:55:39.930 +01:00 [INF] Authorization was successful.
2020-11-21 15:55:39.930 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:55:39.943 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:55:39.964 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:58:17.490 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 15:58:17.828 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 15:58:17.832 +01:00 [INF] Hosting environment: Development
2020-11-21 15:58:17.833 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 15:58:17.860 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 15:58:17.925 +01:00 [INF] Request finished in 68.0208ms 200 text/html;charset=utf-8
2020-11-21 15:58:18.126 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 15:58:18.238 +01:00 [INF] Request finished in 112.1595ms 200 application/json;charset=utf-8
2020-11-21 15:58:37.000 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 15:58:37.009 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:58:37.103 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:58:37.134 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:58:37.683 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:58:38.615 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:58:38.966 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1273.8869ms.
2020-11-21 15:58:38.972 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__6, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 15:58:39.280 +01:00 [INF] Executed DbCommand (82ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 15:58:39.412 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 15:58:39.484 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2345.2222ms
2020-11-21 15:58:39.485 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 15:58:39.489 +01:00 [INF] Request finished in 2490.2621ms 200 application/json; charset=utf-8
2020-11-21 15:59:27.740 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/159  
2020-11-21 15:59:27.742 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:59:27.795 +01:00 [INF] Successfully validated the token.
2020-11-21 15:59:27.804 +01:00 [INF] Authorization was successful.
2020-11-21 15:59:27.805 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:59:27.809 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(System.String) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:59:27.827 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:59:38.439 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/159?id=159  
2020-11-21 15:59:38.439 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 15:59:38.444 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 10635.2036ms
2020-11-21 15:59:38.444 +01:00 [INF] Successfully validated the token.
2020-11-21 15:59:38.445 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:59:38.445 +01:00 [INF] Authorization was successful.
2020-11-21 15:59:38.445 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:59:38.445 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(System.String) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 15:59:38.483 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 15:59:39.210 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 15:59:39.215 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.Int32.Parse(String s)
   at CurriculumRepository.API.Controllers.AccountController.Delete(String id) in D:\Programming\CurriculumRepository\CurriculumRepository.API\Controllers\AccountController.cs:line 49
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-11-21 15:59:39.225 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 742.1377ms.
2020-11-21 15:59:39.225 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2020-11-21 15:59:39.226 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-21 15:59:39.226 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 780.6957ms
2020-11-21 15:59:39.226 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 15:59:39.228 +01:00 [INF] Request finished in 789.9015ms 200 text/plain; charset=utf-8
2020-11-21 15:59:39.236 +01:00 [INF] Request finished in 11498.1526ms 500 text/plain
2020-11-21 15:59:39.241 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'CurriculumRepository.API.Models.CurriculumDatabaseContext'.
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-11-21 15:59:47.231 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 15:59:47.567 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 15:59:47.576 +01:00 [INF] Hosting environment: Development
2020-11-21 15:59:47.579 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 15:59:47.597 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 15:59:47.670 +01:00 [INF] Request finished in 76.3635ms 200 text/html;charset=utf-8
2020-11-21 15:59:47.887 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 15:59:47.986 +01:00 [INF] Request finished in 99.727ms 200 application/json;charset=utf-8
2020-11-21 16:01:35.641 +01:00 [INF] User profile is available. Using 'C:\Users\Dorijan\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-11-21 16:01:35.971 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2020-11-21 16:01:35.973 +01:00 [INF] Hosting environment: Development
2020-11-21 16:01:35.974 +01:00 [INF] Content root path: D:\Programming\CurriculumRepository\CurriculumRepository.API
2020-11-21 16:01:36.000 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/index.html  
2020-11-21 16:01:36.060 +01:00 [INF] Request finished in 63.5728ms 200 text/html;charset=utf-8
2020-11-21 16:01:36.248 +01:00 [INF] Request starting HTTP/2.0 GET https://localhost:44361/swagger/v1/swagger.json  
2020-11-21 16:01:36.338 +01:00 [INF] Request finished in 89.3582ms 200 application/json;charset=utf-8
2020-11-21 16:01:53.951 +01:00 [INF] Request starting HTTP/2.0 POST https://localhost:44361/api/Account/authenticate application/json-patch+json 46
2020-11-21 16:01:53.959 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 16:01:54.055 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 16:01:54.089 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Authenticate(CurriculumRepository.CORE.Data.Models.AuthenticateUserDTO) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 16:01:54.632 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 16:01:55.465 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 16:01:55.801 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1162.5648ms.
2020-11-21 16:01:55.807 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1+AsyncStateMachineBox`1[[CurriculumRepository.CORE.Data.Models.AuthenticationResponseDTO, CurriculumRepository.CORE, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[CurriculumRepository.API.Services.AccountService+<Authenticate>d__6, CurriculumRepository.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2020-11-21 16:01:56.090 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@__model_Username_0='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[Username] = @__model_Username_0
2020-11-21 16:01:56.214 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUserType], [u].[UserTypeName]
FROM [UserType] AS [u]
WHERE [u].[IDUserType] = @__p_0
2020-11-21 16:01:56.287 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API) in 2193.3913ms
2020-11-21 16:01:56.288 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Authenticate (CurriculumRepository.API)'
2020-11-21 16:01:56.294 +01:00 [INF] Request finished in 2345.2098ms 200 application/json; charset=utf-8
2020-11-21 16:02:27.295 +01:00 [INF] Request starting HTTP/2.0 DELETE https://localhost:44361/api/Account/159  
2020-11-21 16:02:27.296 +01:00 [INF] No CORS policy found for the specified request.
2020-11-21 16:02:27.344 +01:00 [INF] Successfully validated the token.
2020-11-21 16:02:27.351 +01:00 [INF] Authorization was successful.
2020-11-21 16:02:27.351 +01:00 [INF] Executing endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 16:02:27.361 +01:00 [INF] Route matched with {action = "Delete", controller = "Account"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Delete(Int32) on controller CurriculumRepository.API.Controllers.AccountController (CurriculumRepository.API).
2020-11-21 16:02:27.380 +01:00 [INF] Executing action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) - Validation state: "Valid"
2020-11-21 16:02:31.683 +01:00 [INF] Entity Framework Core 5.0.0 initialized 'CurriculumDatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-11-21 16:02:31.692 +01:00 [INF] Executed action method CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4311.4959ms.
2020-11-21 16:02:31.692 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[IDUser], [u].[Email], [u].[Firstname], [u].[Lastname], [u].[PasswordHash], [u].[PasswordSalt], [u].[ProfilePicture], [u].[RegistrationDate], [u].[UserTypeID], [u].[Username]
FROM [User] AS [u]
WHERE [u].[IDUser] = @__p_0
2020-11-21 16:02:31.693 +01:00 [INF] Executing ObjectResult, writing value of type 'System.Int32'.
2020-11-21 16:02:31.694 +01:00 [INF] Executed action CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API) in 4333.4565ms
2020-11-21 16:02:31.695 +01:00 [INF] Executed endpoint 'CurriculumRepository.API.Controllers.AccountController.Delete (CurriculumRepository.API)'
2020-11-21 16:02:31.695 +01:00 [INF] Request finished in 4400.0714ms 200 application/json; charset=utf-8
